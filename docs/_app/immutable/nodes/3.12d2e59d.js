import{s as ca,c as Et,u as Bt,g as Ht,f as Ot,i as Us,j as la,n as ua,r as Ut,o as Rt,b as nt,d as gt}from"../chunks/scheduler.014bc20e.js";import{S as ra,i as ma,s as o,g,m as Ca,r as Zs,z as at,f as a,c as h,h as u,j as J,n as ja,u as aa,k as d,a as t,B as D,v as Js,o as Ua,d as ns,t as cs,w as Ks,x as w,p as Ia,b as Ea,D as na,E as ea,l as sa,C as Za,H as ys,F as fs,e as pa,G as ht,q as dt}from"../chunks/index.bf2c274e.js";import{S as Jt,e as Ja}from"../chunks/SocialLinks.9bbde2fd.js";function Wa(r,s){const i={},p={},e={$$scope:1};let n=r.length;for(;n--;){const l=r[n],c=s[n];if(c){for(const _ in l)_ in c||(p[_]=1);for(const _ in c)e[_]||(i[_]=c[_],e[_]=1);r[n]=c}else for(const _ in l)e[_]=1}for(const l in p)l in i||(i[l]=void 0);return i}function ia(r){return typeof r=="object"&&r!==null?r:{}}const Kt=""+new URL("../assets/trilizard-sleeping.a87042bc.svg",import.meta.url).href,Xt=""+new URL("../assets/accel-thumbnail.a92b3ece.svg",import.meta.url).href,sn=""+new URL("../assets/bvh-median.322652fd.svg",import.meta.url).href,an=""+new URL("../assets/bvh-midpoint.6ce7fca5.svg",import.meta.url).href,tn=""+new URL("../assets/character-arm.f96a1a9e.svg",import.meta.url).href,nn=""+new URL("../assets/object-hierarchy-basic.c79f0bec.svg",import.meta.url).href,en=""+new URL("../assets/object-hierarchy-complete.19fc906e.svg",import.meta.url).href,pn=""+new URL("../assets/frustum.be4be6a3.svg",import.meta.url).href,ln=""+new URL("../assets/snowboarder_original.cab17ecb.png",import.meta.url).href,cn=""+new URL("../assets/linear-and-affine-transformations.95adcc8c.png",import.meta.url).href,rn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAU0AAAEDCAIAAAA+wMGPAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAhhSURBVHhe7dPbltsgEETR/P9PJyuT4zUQZI+FdYHi7LekJMZqun79lpTOnkv57LmUz55L+ey5lM+eS/nsuZTPnkv57LmUz55L+ey5lM+eS/nsuZTPnkv57LmUz55L+ey5lM+eS/nsuZTPnkv57LmUz55L+ey5lM+eS/nsuZTPnkv57LmUz55L+ey5lM+eS/nsuZTPnkv57LmUz55L+ey5lM+eS/nsuZTPnkv57LmUz55L+ey5lM+eS/nsuZTPnkv57LmUz55L+ey5lM+eS/nsuZTPnkv57LmUz55L+ey5lM+eS/nsuZTPnkv57LmUz55L+ey5lM+ea8OvB/6tyXmR+h8Vf+B/NTNvURXK3SDWnLw/faPTT/CQJuTl6RuFfo7nNBtvTqDKP+FpTcVr01+UuPDs///5l2oWXpi2y0xm1SN4W6ujtTWyB/63QazheVVLo681shrZFp7QwLykdVHTGtkTPNQg1qi8oXXR0QLBSzzaINaQvJ5F0c4CwRt4YQtPaDBezIooZYFgD95sEGsk3spyqGONbCdebhBrGF7JWihijawLRzSINQbvYyFUsEb2Gc5qEOtu3sRCKF+B4Aic2CDWrbyGVVC7AsFxOLdBrPt4B0ugcAWCo3H6Fp7QHZx+PnpWIDgNf6ZBrMs5+nA0rEZ2Jv5Sg1jXcu7J6FaN7Hz8vQaxLuTQY9GqGtmF+MMNYl3CcceiTwWCy/HnG8Q6n7PORJMKBDfhRzSIdTIHHYgOFQjuxq9pEOs0jjgN1amRDYAf1CDWOZxvFEpTIxsGP6tBrBM43BzUpUY2GH7cFp7QoRxrCFpSIxsVv7JBrOM40xBUpEAwNn5rg1gHcaAJKEeBYAb84gaxjuA0p0ctCgRT4ac3iPUZ5zg32lAjmw2/vkGsDzjEidGDGtmc+IYGsXo5wVnRgBrZzPiSLTyh/ZzdlFj8GlkEPqlBrJ0c3JTY+gJBED6sQaw9nNp82PcCQRw+bwtP6D3OazKseYEgF9/ZINYbHNZMWPAaWTQ+tUGsnzipabDaNbIF8MENYr3kmObAUtfIVsKXN4j1hAOaALtcI1sP398g1hanMwEWuUCwKqbQIFbD0YyOFS4QrI1ZbOEJFRzK0NjcAoG+MJQGsR6cyLjY2RqZHphLg1hfHMeg2NYamWpMp0Esez4m9rRGpicYU4N4bU5hRGxogUAvMawG8cIcwXDYzQKB3sDIGsSrcofGwlYWCPQ2BreFJ9bjGg2EZSwQaD8m2CBejJs0CtawRqYuDLFBvBI3aQgsYI1MH2CUW3hiDS7T/di7GpmOwEwbxAtwn+7H0hUIdBwm2yBO50rdjHUrEOhozLdBHM2tuhOLViDQaRh0gziUi3Ub9qtGpjMx6wZxIhfrHmxWjUznY+IN4jju1g3YqRqZrsLct/BEENfraqxSjUyX4wIaxCncsKuxRwUC3YRraBBHcMkuxQYVCHQrLmMLT0zOPbsOi1Mg0Bi4lQbxzFy1i7AyNTINg4tpEE/LVbsCy1Ij02C4ngbxnNy207EmNTKNintqEM/GhTsX21Ej09i4rQbxVNy5c7EaBQLNgDtrEM/DtTsRS1Eg0MC4qpd4dB5u3lnYiAKBxsMNvY3X5uHynYJ1qJFpDNzKfrw/FZfveKxDjUy34jK6cMSc3L+DsRQ1Mt2BO+jCEfNzBQ/GghQIdC2mvx/vZ3ELj8SmFAh0CYa+H+/nchEPw8oUCHQmZt2FIxbgLh6DxSkQ6ASMuAtHLMZ1PAAbVCPTQRhrF45YmCP4FKtUI9NnmGYXjtAXx/ERdqpGpi4MsQtHqOFoPsJ+FQi0E+Pbj/f1kmPqx6IVCPQeptaFI/Qe59WJdSsQ6CWG1YUjtJ+z68He1cjUYEBdOEKfcY67sYA1Mj0wly4coeM4033YxBrZ8hhHF47QOZzvDqxkjWxhDGI/3tf5nPUOrGeBYD18fxeO0IUc+rtY0gLBMvjsLhyhm3gBb2FbCwTp+NouHKEBeBk/Y21rZIn4wi4cocF4MT9gf2tkQfiwLhyhgXlJr7DINbIIfNJ+vK9JeGFPsdE1spnxJfvxvibk5T3FdhcIJsQHdOEIzcxb3MaOFwjmwe/uwhFK4Y1uYNkLBMPj53bhCCXydv/H1tfIhsRP7MIRSudNV1j/GtlI+GVdOEIr8da/0YMa2Rj4TfvxvlblBoBC1MhuxU/pwhFanqsAmlEguAO/oAtHSAXX4i8qUiC4EH+4C0dIT7gid5acv9eFI6Q3rL4ulKZGdg7+RheOkHZaenVoT43saJy+H+9LH1h3jahRjewgHNqFI6Qj2PNvBJ/hrC4cIR1t0d2iWAWCLhzRhSOkM624ZzSsQLAHb3bhCOkqy+0cVSsQvIEXunCEdIe19o/O1cie4KEuHCHdbaFdpHw1sgbxfrwvjWSVvaSFNbIH/rcLR0hDWrfnz/7/ff9OkMa3xLLSyyNwojSV/MWloB/gIGla4UtMU/fjfSlC8kJT2bfxmhTHnltv5Vu05zwhrSF846n1F/5LWo/bL+Wz51I+ey7ls+dSPnsu5bPnUj57LuWz51I+ey7ls+dSPnsu5bPnUj57LuWz51I+ey7ls+dSPnsu5bPnUj57LuWz51I+ey7ls+dSPnsu5bPnUj57LuWz51I+ey7ls+dSPnsu5bPnUj57LuWz51I+ey7ls+dSPnsu5bPnUj57LuWz51I+ey7ls+dSPnsu5bPnUj57LuWz51I+ey7ls+dSPnsu5bPnUj57LuWz51I+ey7ls+dSPnsu5bPnUj57LuWz51I+ey7ls+dSPnsu5bPnUj57LuWz51I+ey7ls+dSPnsu5bPnUj57LuWz51I+ey7ls+dSPnsu5bPnUj57LqX7/fsPiNBaZruzp3YAAAAASUVORK5CYII=",mn=""+new URL("../assets/thumbnail.16ffd84f.svg",import.meta.url).href;function on(r){let s,i,p,e,n,l,c,_,v,b,m,z,L,A;document.title=s="boraini.com - "+r[1]+"'s Profile",z=new Jt({props:{social:r[2]}});const x=r[4].default,k=Et(x,r,r[3],null);return{c(){i=o(),p=g("div"),e=g("article"),n=g("h1"),l=Ca(r[1]),c=o(),_=g("h2"),v=Ca(r[0]),b=o(),m=g("span"),Zs(z.$$.fragment),L=o(),k&&k.c(),this.h()},l(j){at("svelte-11lht2",document.head).forEach(a),i=h(j),p=u(j,"DIV",{class:!0});var E=J(p);e=u(E,"ARTICLE",{class:!0});var I=J(e);n=u(I,"H1",{class:!0});var S=J(n);l=ja(S,r[1]),S.forEach(a),c=h(I),_=u(I,"H2",{class:!0});var U=J(_);v=ja(U,r[0]),U.forEach(a),b=h(I),m=u(I,"SPAN",{class:!0});var ts=J(m);aa(z.$$.fragment,ts),ts.forEach(a),L=h(I),k&&k.l(I),I.forEach(a),E.forEach(a),this.h()},h(){d(n,"class","post-title svelte-6n1cnq"),d(_,"class","post-description svelte-6n1cnq"),d(m,"class","social-links svelte-6n1cnq"),d(e,"class","post svelte-6n1cnq"),d(p,"class","post-margin svelte-6n1cnq")},m(j,H){t(j,i,H),t(j,p,H),D(p,e),D(e,n),D(n,l),D(e,c),D(e,_),D(_,v),D(e,b),D(e,m),Js(z,m,null),D(e,L),k&&k.m(e,null),A=!0},p(j,[H]){(!A||H&2)&&s!==(s="boraini.com - "+j[1]+"'s Profile")&&(document.title=s),(!A||H&2)&&Ua(l,j[1]),(!A||H&1)&&Ua(v,j[0]);const E={};H&4&&(E.social=j[2]),z.$set(E),k&&k.p&&(!A||H&8)&&Bt(k,x,j,j[3],A?Ot(x,j[3],H,null):Ht(j[3]),null)},i(j){A||(ns(z.$$.fragment,j),ns(k,j),A=!0)},o(j){cs(z.$$.fragment,j),cs(k,j),A=!1},d(j){j&&(a(i),a(p)),Ks(z),k&&k.d(j)}}}function hn(r,s,i){let{$$slots:p={},$$scope:e}=s,{nickname:n}=s,{name:l}=s,{social:c}=s;return r.$$set=_=>{"nickname"in _&&i(0,n=_.nickname),"name"in _&&i(1,l=_.name),"social"in _&&i(2,c=_.social),"$$scope"in _&&i(3,e=_.$$scope)},[n,l,c,e,p]}class un extends ra{constructor(s){super(),ma(this,s,hn,on,ca,{nickname:0,name:1,social:2})}}const Ft=""+new URL("../assets/trilizard-sleeping.a87042bc.svg",import.meta.url).href,gn=Object.freeze(Object.defineProperty({__proto__:null,default:Ft},Symbol.toStringTag,{value:"Module"}));function dn(r){let s,i="Hello. I am Mert Bora İnevi, the main author of this blog and the creator and owner of this website.",p,e,n="I am a developer and artist from İstanbul, Turkey, who likes doing nice things on his computer, and also with a touch of creativity! My will to be productive is what has allowed me to develop a strong presence on the Internet, make this website, and make some nice art. Other than that, I like to play video games like Minecraft, cook food or make beverages, read magazines, and have good, quality time with my friends and family.",l,c,_="I have been interested in electronics since childhood. I first became interested in coding when I learned how to write a resistor value calculation program in HTML. Then I became proficient in writing JavaScript games. I started writing low level code when he learned how to program the Arduino at the Robert College and worked on some robotics projects in the following years. I also taught myself 3D modelling and simulation with the help of the large computer enthusiast community at the Robert College.",v,b,m="I am currently studying Computer Science and Engineering at TU Delft in the Netherlands. I am looking forward to what university life will bring in the following months. Currently, developing and maintaining this website is my top priority so stay tuned!",z,L,A="<p>In late 2017, a blue and orange creature emerged out of İstanbul, ready to submit unique art on this site just for fun. Go appreciate his work or he will tickle you with his sticky gecko paws.</p>",x,k,j=`<img src="${Ft}" alt="TriLizard Sleeping"/>`,H,E,I=`[alt="TriLizard Sleeping"] {
  display: block;
  width: 100%;
  max-width: 500px;
  height: auto;
  margin: auto;
}`;return{c(){s=g("p"),s.textContent=i,p=o(),e=g("p"),e.textContent=n,l=o(),c=g("p"),c.textContent=_,v=o(),b=g("p"),b.textContent=m,z=o(),L=g("blockquote"),L.innerHTML=A,x=o(),k=g("p"),k.innerHTML=j,H=o(),E=g("style"),E.textContent=I,this.h()},l(S){s=u(S,"P",{"data-svelte-h":!0}),w(s)!=="svelte-1nk4nlf"&&(s.textContent=i),p=h(S),e=u(S,"P",{"data-svelte-h":!0}),w(e)!=="svelte-t3tp8w"&&(e.textContent=n),l=h(S),c=u(S,"P",{"data-svelte-h":!0}),w(c)!=="svelte-1c4tt0o"&&(c.textContent=_),v=h(S),b=u(S,"P",{"data-svelte-h":!0}),w(b)!=="svelte-1x832yv"&&(b.textContent=m),z=h(S),L=u(S,"BLOCKQUOTE",{"data-svelte-h":!0}),w(L)!=="svelte-10c9cz9"&&(L.innerHTML=A),x=h(S),k=u(S,"P",{"data-svelte-h":!0}),w(k)!=="svelte-1qjaeet"&&(k.innerHTML=j),H=h(S),E=u(S,"STYLE",{lang:!0,"data-svelte-h":!0}),w(E)!=="svelte-14epjhq"&&(E.textContent=I),this.h()},h(){d(E,"lang","sass")},m(S,U){t(S,s,U),t(S,p,U),t(S,e,U),t(S,l,U),t(S,c,U),t(S,v,U),t(S,b,U),t(S,z,U),t(S,L,U),t(S,x,U),t(S,k,U),t(S,H,U),t(S,E,U)},p:ua,d(S){S&&(a(s),a(p),a(e),a(l),a(c),a(v),a(b),a(z),a(L),a(x),a(k),a(H),a(E))}}}function vn(r){let s,i;const p=[r[0],et];let e={$$slots:{default:[dn]},$$scope:{ctx:r}};for(let n=0;n<p.length;n+=1)e=Us(e,p[n]);return s=new un({props:e}),{c(){Zs(s.$$.fragment)},l(n){aa(s.$$.fragment,n)},m(n,l){Js(s,n,l),i=!0},p(n,[l]){const c=l&1?Wa(p,[l&1&&ia(n[0]),l&0&&ia(et)]):{};l&2&&(c.$$scope={dirty:l,ctx:n}),s.$set(c)},i(n){i||(ns(s.$$.fragment,n),i=!0)},o(n){cs(s.$$.fragment,n),i=!1},d(n){Ks(s,n)}}}const et={nickname:"boraini",name:"Mert Bora İnevi",social:{linkedin:"https://linkedin.com/in/boraini",github:"https://github.com/boraini",deviantart:"https://deviantart.com/boraini",twitter:"https://twitter.com/BorainiOfficial",instagram:"https://instagram.com/borainevi",tumblr:"https://tumblr.com/boraini",scratch:"https://scratch.mit.edu/users/boraini",abmdevandgames:"https://abmdevandgames.blogspot.com"},assetPath:"authors"};function yn(r,s,i){return r.$$set=p=>{i(0,s=Us(Us({},s),la(p)))},s=la(s),[s]}class fn extends ra{constructor(s){super(),ma(this,s,yn,vn,ca,{})}}const bn=Object.freeze(Object.defineProperty({__proto__:null,default:fn,metadata:et},Symbol.toStringTag,{value:"Module"})),wn=""+new URL("../assets/accel-thumbnail.a92b3ece.svg",import.meta.url).href,_n=Object.freeze(Object.defineProperty({__proto__:null,default:wn},Symbol.toStringTag,{value:"Module"})),Wt=""+new URL("../assets/bvh-median.322652fd.svg",import.meta.url).href,xn=Object.freeze(Object.defineProperty({__proto__:null,default:Wt},Symbol.toStringTag,{value:"Module"})),$t=""+new URL("../assets/bvh-midpoint.6ce7fca5.svg",import.meta.url).href,kn=Object.freeze(Object.defineProperty({__proto__:null,default:$t},Symbol.toStringTag,{value:"Module"})),Nt=""+new URL("../assets/character-arm.f96a1a9e.svg",import.meta.url).href,zn=Object.freeze(Object.defineProperty({__proto__:null,default:Nt},Symbol.toStringTag,{value:"Module"})),qt=""+new URL("../assets/object-hierarchy-basic.c79f0bec.svg",import.meta.url).href,Cn=Object.freeze(Object.defineProperty({__proto__:null,default:qt},Symbol.toStringTag,{value:"Module"})),Dt=""+new URL("../assets/object-hierarchy-complete.19fc906e.svg",import.meta.url).href,jn=Object.freeze(Object.defineProperty({__proto__:null,default:Dt},Symbol.toStringTag,{value:"Module"})),Yt=""+new URL("../assets/frustum.be4be6a3.svg",import.meta.url).href,Pn=Object.freeze(Object.defineProperty({__proto__:null,default:Yt},Symbol.toStringTag,{value:"Module"})),Qt=""+new URL("../assets/snowboarder_original.cab17ecb.png",import.meta.url).href,Tn=Object.freeze(Object.defineProperty({__proto__:null,default:Qt},Symbol.toStringTag,{value:"Module"}));function Ln(r){let s,i=r[0].name+"",p;return{c(){s=g("span"),p=Ca(i),this.h()},l(e){s=u(e,"SPAN",{class:!0});var n=J(s);p=ja(n,i),n.forEach(a),this.h()},h(){d(s,"class","author-card svelte-1pnfsom")},m(e,n){t(e,s,n),D(s,p)},p(e,[n]){n&1&&i!==(i=e[0].name+"")&&Ua(p,i)},i:ua,o:ua,d(e){e&&a(s)}}}function Mn(r,s,i){let{author:p}=s;return r.$$set=e=>{"author"in e&&i(0,p=e.author)},[p]}class ut extends ra{constructor(s){super(),ma(this,s,Mn,Ln,ca,{author:0})}}function vt(r){let s,i;return{c(){s=g("h2"),i=Ca(r[1]),this.h()},l(p){s=u(p,"H2",{class:!0});var e=J(s);i=ja(e,r[1]),e.forEach(a),this.h()},h(){d(s,"class","post-description svelte-13i6uah")},m(p,e){t(p,s,e),D(s,i)},p(p,e){e&2&&Ua(i,p[1])},d(p){p&&a(s)}}}function yt(r){let s,i;return{c(){s=Ca("on "),i=Ca(r[3])},l(p){s=ja(p,"on "),i=ja(p,r[3])},m(p,e){t(p,s,e),t(p,i,e)},p(p,e){e&8&&Ua(i,p[3])},d(p){p&&(a(s),a(i))}}}function ft(r){let s,i,p,e,n;return p=new ut({props:{author:r[2]}}),{c(){s=Ca("by "),i=g("a"),Zs(p.$$.fragment),this.h()},l(l){s=ja(l,"by "),i=u(l,"A",{href:!0});var c=J(i);aa(p.$$.fragment,c),c.forEach(a),this.h()},h(){d(i,"href",e=r[2].page)},m(l,c){t(l,s,c),t(l,i,c),Js(p,i,null),n=!0},p(l,c){const _={};c&4&&(_.author=l[2]),p.$set(_),(!n||c&4&&e!==(e=l[2].page))&&d(i,"href",e)},i(l){n||(ns(p.$$.fragment,l),n=!0)},o(l){cs(p.$$.fragment,l),n=!1},d(l){l&&(a(s),a(i)),Ks(p)}}}function Sn(r){let s,i,p,e,n,l,c,_,v,b,m,z,L,A;document.title=s="boraini.com - "+r[0];let x=r[1]&&vt(r),k=r[3]&&yt(r),j=r[2]&&ft(r);const H=r[8].default,E=Et(H,r,r[7],null);return{c(){i=g("link"),p=g("link"),e=o(),n=g("div"),l=g("article"),c=g("h1"),_=Ca(r[0]),v=o(),x&&x.c(),b=o(),m=g("p"),k&&k.c(),z=o(),j&&j.c(),L=o(),E&&E.c(),this.h()},l(I){const S=at("svelte-1h8nol6",document.head);i=u(S,"LINK",{rel:!0,href:!0}),p=u(S,"LINK",{rel:!0,href:!0}),S.forEach(a),e=h(I),n=u(I,"DIV",{class:!0});var U=J(n);l=u(U,"ARTICLE",{class:!0});var ts=J(l);c=u(ts,"H1",{class:!0});var is=J(c);_=ja(is,r[0]),is.forEach(a),v=h(ts),x&&x.l(ts),b=h(ts),m=u(ts,"P",{class:!0});var V=J(m);k&&k.l(V),z=h(V),j&&j.l(V),V.forEach(a),L=h(ts),E&&E.l(ts),ts.forEach(a),U.forEach(a),this.h()},h(){d(i,"rel","stylesheet"),d(i,"href","/stylesheets/prism-duotone-dark.css"),d(p,"rel","stylesheet"),d(p,"href","https://cdn.jsdelivr.net/npm/katex@0.16.2/dist/katex.min.css"),d(c,"class","post-title svelte-13i6uah"),d(m,"class","svelte-13i6uah"),d(l,"class","post svelte-13i6uah"),d(n,"class","post-margin svelte-13i6uah")},m(I,S){D(document.head,i),D(document.head,p),t(I,e,S),t(I,n,S),D(n,l),D(l,c),D(c,_),D(l,v),x&&x.m(l,null),D(l,b),D(l,m),k&&k.m(m,null),D(m,z),j&&j.m(m,null),D(l,L),E&&E.m(l,null),A=!0},p(I,[S]){(!A||S&1)&&s!==(s="boraini.com - "+I[0])&&(document.title=s),(!A||S&1)&&Ua(_,I[0]),I[1]?x?x.p(I,S):(x=vt(I),x.c(),x.m(l,b)):x&&(x.d(1),x=null),I[3]?k?k.p(I,S):(k=yt(I),k.c(),k.m(m,z)):k&&(k.d(1),k=null),I[2]?j?(j.p(I,S),S&4&&ns(j,1)):(j=ft(I),j.c(),ns(j,1),j.m(m,null)):j&&(Ia(),cs(j,1,1,()=>{j=null}),Ea()),E&&E.p&&(!A||S&128)&&Bt(E,H,I,I[7],A?Ot(H,I[7],S,null):Ht(I[7]),null)},i(I){A||(ns(j),ns(E,I),A=!0)},o(I){cs(j),cs(E,I),A=!1},d(I){I&&(a(e),a(n)),a(i),a(p),x&&x.d(),k&&k.d(),j&&j.d(),E&&E.d(I)}}}function An(r,s,i){let{$$slots:p={},$$scope:e}=s,{title:n}=s,{excerpt:l}=s,{author:c}=s,{thumbnail:_}=s,{tags:v}=s,{date:b}=s,{assetPath:m}=s;return r.$$set=z=>{"title"in z&&i(0,n=z.title),"excerpt"in z&&i(1,l=z.excerpt),"author"in z&&i(2,c=z.author),"thumbnail"in z&&i(4,_=z.thumbnail),"tags"in z&&i(5,v=z.tags),"date"in z&&i(3,b=z.date),"assetPath"in z&&i(6,m=z.assetPath),"$$scope"in z&&i(7,e=z.$$scope)},[n,l,c,b,_,v,m,e,p]}class Ga extends ra{constructor(s){super(),ma(this,s,An,Sn,ca,{title:0,excerpt:1,author:2,thumbnail:4,tags:5,date:3,assetPath:6})}}function In(r){let s,i=`When rendering triangle meshes, calculating phaser hits, or finding out if the character falls on the ground,
we have to shoot many different rays and see if they hit anything. We can easily react thousands of rays to
render a single frame of our real-time application. To get acceptable frame-rates, we have to make raycasting
rather efficient.`,p,e,n=`Here, algorithms and data structures come to our rescue. We form data structures called the acceleration data
structures for the current state of the frame, and use this for the rendering or other raycasting operations.
These structures are usually specialised tree data structures, and we run binary search over them. They bring
the closest-object operation from linear time to logarithmic time.`,l,c,_="Bounding Volume Hierarchy",v,b,m=`A bounding volume hierarchy (BVH) is a tree data structure where each leaf node contains a scene object or a set of
objects that we want to handle together. Other than that, each node contains a bounding volume description.
These can be cuboids, spheres etc. something that is easy to find ray intersections with.`,z,L,A="Generation",x,k,j=`The recursion happens until we reach the desired number of objects inside a leaf or we reach a certain number
of levels. Each step sorts the objects according to their coordinates, splits the sorted list into two, assigns
their bounding volumes, and keeps building each subtree. During the split, if we split at a given object, the
object goes to the lower partition. This is because we usually use integer division which will produce more even
partitions if we add the middle item to the lower partition instead of the upper. 0-based indices are assumed.`,H,E,I=`The bounding volume assignment has to make sure that all objects within the partition are enclosed completely
by the volume. It is better to optimise to have minimally sized volumes, but we don’t have to; it could be hard
to do with spherical bounding volumes, for example.`,S,U,ts="Traversal",is,V,bs=`Each step intersects the ray with the both bounding volumes under the current node, then keeps traversing the
closer volume. If no hit happens, it has to traverse the farther volume also. When we reach the leaves we
try to intersect with each object in the leaf; if no hit happens we return a null distance to report no hit.`,ws,K,os=`If a hit happens within the closer volume, the step also traverses the farther volume if its bounding volume
distance is closer than the reported intersection distance of the closer node. This happens a lot if our chosen
splitting method (read below) have produced a hierarchy with a lot of intersecting bounding volumes.`,hs,ss,M="Splitting Methods",F,Y,Q=`The best node splitting method depends on how the scene is laid out. The key thing we want to achieve is the
bounding volumes being spread as apart as possible at each level, so we have as much no-hit space as possible
when raycasting, allowing us to stop traversing at upper levels in this case. One method can in general be
better than the other but you can choose whichever is more performant in your specific application.`,as,X,us=`For the demonstrations, the first level of the bounding volumes is shown on the left hand side and the second
level of the bounding volumes on the right-hand-side. <em>There would also be the root bounding volume which would
enclose all objects but is omitted.</em>`,gs,$,Z="<strong>Median Object</strong>",vs,es,Ts=`If we split at the median triangle, we will get the most balanced tree. The tree height will be log(n) where n
is the number of objects.`,Es,ls,rs=`<img src="${Wt}" alt="Two-Level BVH Demonstration for Median Split"/>`,Ms,ps,_s="<strong>Midpoint</strong>",Ss,zs,B=`If we split at the geometric midpoint, we get a tree where regions with more triangles get themselves a taller
subtree. This will make situations where one object covers a lot of triangles from the ray’s point of view
much faster to compute intersection for.`,G,Cs,Bs=`<img src="${$t}" alt="Two-Level BVH Demonstration for Midpoint Split"/>`,Hs,Ls,qs=`As seen here, a midpoint split can yield unbalanced but much more spread-apart bounding volumes. If the rays
just pass in between the topmost bounding volumes we don’t need to waste as much computation time in this case.`,As,js,$s="Optimisation",Is,Ps,Ys="First, the BVH can be reused for any raycasting as long as any object doesn’t change in between.",Os,xs,Xs=`The generation can be implemented similarly to an in-place merge sort, so we should use data structures that
will make it indeed in-place. For traversal there isn’t much to do.`,Rs,ds,Qs=`One thing to note is that the splitting method I have described above creates nodes that are allocated in a
depth-first manner. You can also allocate the nodes then traverse to get pairs of bounding volumes next to each
other in memory. This is assuming you are allocating memory from athe lower to a higher address, e. g. by
appending to a list.`,Fs,ks,ta="Objects outside of the Acceleration Data Structure",Ws,ms,Ns=`We always have the method of linear iteration in our hands, so we can use this whenever an object we want to
intersect is not in the acceleration data structure. If we have moving characters in a scene for an FPS game,
for example, we can first render the scene, also store its depth buffer, then blit the character renders onto
the background according to the background and character depth buffers. If we really need to test ray
intersection on the backgrounds and the character, we treat the background BVH as a single object, intersect
both the character and the background, and report the closest hit result among these tests.`,Gs,P,q=`Rigged meshes are very hard to generate acceleration data structures for. If the deformation happens before the
data is sent to the GPU, then the BVH can be generated each frame, including the character mesh triangles. This
seems like <a href="https://docs.unrealengine.com/5.0/en-US/ray-tracing-performance-guide-in-unreal-engine/#toplevelaccelerationstructurebuild" rel="nofollow">how Epic Games’ Unreal Engine Version 5 seems to work.</a>`;return{c(){s=g("p"),s.textContent=i,p=o(),e=g("p"),e.textContent=n,l=o(),c=g("h1"),c.textContent=_,v=o(),b=g("p"),b.textContent=m,z=o(),L=g("h2"),L.textContent=A,x=o(),k=g("p"),k.textContent=j,H=o(),E=g("p"),E.textContent=I,S=o(),U=g("h2"),U.textContent=ts,is=o(),V=g("p"),V.textContent=bs,ws=o(),K=g("p"),K.textContent=os,hs=o(),ss=g("h2"),ss.textContent=M,F=o(),Y=g("p"),Y.textContent=Q,as=o(),X=g("p"),X.innerHTML=us,gs=o(),$=g("p"),$.innerHTML=Z,vs=o(),es=g("p"),es.textContent=Ts,Es=o(),ls=g("p"),ls.innerHTML=rs,Ms=o(),ps=g("p"),ps.innerHTML=_s,Ss=o(),zs=g("p"),zs.textContent=B,G=o(),Cs=g("p"),Cs.innerHTML=Bs,Hs=o(),Ls=g("p"),Ls.textContent=qs,As=o(),js=g("h2"),js.textContent=$s,Is=o(),Ps=g("p"),Ps.textContent=Ys,Os=o(),xs=g("p"),xs.textContent=Xs,Rs=o(),ds=g("p"),ds.textContent=Qs,Fs=o(),ks=g("h1"),ks.textContent=ta,Ws=o(),ms=g("p"),ms.textContent=Ns,Gs=o(),P=g("p"),P.innerHTML=q},l(T){s=u(T,"P",{"data-svelte-h":!0}),w(s)!=="svelte-1cay7co"&&(s.textContent=i),p=h(T),e=u(T,"P",{"data-svelte-h":!0}),w(e)!=="svelte-bvb3m1"&&(e.textContent=n),l=h(T),c=u(T,"H1",{"data-svelte-h":!0}),w(c)!=="svelte-tngfp1"&&(c.textContent=_),v=h(T),b=u(T,"P",{"data-svelte-h":!0}),w(b)!=="svelte-w65j38"&&(b.textContent=m),z=h(T),L=u(T,"H2",{"data-svelte-h":!0}),w(L)!=="svelte-xb6jes"&&(L.textContent=A),x=h(T),k=u(T,"P",{"data-svelte-h":!0}),w(k)!=="svelte-yhz8zr"&&(k.textContent=j),H=h(T),E=u(T,"P",{"data-svelte-h":!0}),w(E)!=="svelte-zfki5o"&&(E.textContent=I),S=h(T),U=u(T,"H2",{"data-svelte-h":!0}),w(U)!=="svelte-17qjj5w"&&(U.textContent=ts),is=h(T),V=u(T,"P",{"data-svelte-h":!0}),w(V)!=="svelte-1skxye0"&&(V.textContent=bs),ws=h(T),K=u(T,"P",{"data-svelte-h":!0}),w(K)!=="svelte-dw16dv"&&(K.textContent=os),hs=h(T),ss=u(T,"H2",{"data-svelte-h":!0}),w(ss)!=="svelte-17lip20"&&(ss.textContent=M),F=h(T),Y=u(T,"P",{"data-svelte-h":!0}),w(Y)!=="svelte-7js642"&&(Y.textContent=Q),as=h(T),X=u(T,"P",{"data-svelte-h":!0}),w(X)!=="svelte-aor39r"&&(X.innerHTML=us),gs=h(T),$=u(T,"P",{"data-svelte-h":!0}),w($)!=="svelte-tri6fc"&&($.innerHTML=Z),vs=h(T),es=u(T,"P",{"data-svelte-h":!0}),w(es)!=="svelte-1hp2haj"&&(es.textContent=Ts),Es=h(T),ls=u(T,"P",{"data-svelte-h":!0}),w(ls)!=="svelte-1yk4kle"&&(ls.innerHTML=rs),Ms=h(T),ps=u(T,"P",{"data-svelte-h":!0}),w(ps)!=="svelte-a9fd01"&&(ps.innerHTML=_s),Ss=h(T),zs=u(T,"P",{"data-svelte-h":!0}),w(zs)!=="svelte-1ravf2i"&&(zs.textContent=B),G=h(T),Cs=u(T,"P",{"data-svelte-h":!0}),w(Cs)!=="svelte-5bikrq"&&(Cs.innerHTML=Bs),Hs=h(T),Ls=u(T,"P",{"data-svelte-h":!0}),w(Ls)!=="svelte-1rvpw7m"&&(Ls.textContent=qs),As=h(T),js=u(T,"H2",{"data-svelte-h":!0}),w(js)!=="svelte-2rmpsy"&&(js.textContent=$s),Is=h(T),Ps=u(T,"P",{"data-svelte-h":!0}),w(Ps)!=="svelte-1dlycd8"&&(Ps.textContent=Ys),Os=h(T),xs=u(T,"P",{"data-svelte-h":!0}),w(xs)!=="svelte-fuyv4k"&&(xs.textContent=Xs),Rs=h(T),ds=u(T,"P",{"data-svelte-h":!0}),w(ds)!=="svelte-aemokr"&&(ds.textContent=Qs),Fs=h(T),ks=u(T,"H1",{"data-svelte-h":!0}),w(ks)!=="svelte-1yudk1i"&&(ks.textContent=ta),Ws=h(T),ms=u(T,"P",{"data-svelte-h":!0}),w(ms)!=="svelte-14ffi6p"&&(ms.textContent=Ns),Gs=h(T),P=u(T,"P",{"data-svelte-h":!0}),w(P)!=="svelte-1nt4jc0"&&(P.innerHTML=q)},m(T,W){t(T,s,W),t(T,p,W),t(T,e,W),t(T,l,W),t(T,c,W),t(T,v,W),t(T,b,W),t(T,z,W),t(T,L,W),t(T,x,W),t(T,k,W),t(T,H,W),t(T,E,W),t(T,S,W),t(T,U,W),t(T,is,W),t(T,V,W),t(T,ws,W),t(T,K,W),t(T,hs,W),t(T,ss,W),t(T,F,W),t(T,Y,W),t(T,as,W),t(T,X,W),t(T,gs,W),t(T,$,W),t(T,vs,W),t(T,es,W),t(T,Es,W),t(T,ls,W),t(T,Ms,W),t(T,ps,W),t(T,Ss,W),t(T,zs,W),t(T,G,W),t(T,Cs,W),t(T,Hs,W),t(T,Ls,W),t(T,As,W),t(T,js,W),t(T,Is,W),t(T,Ps,W),t(T,Os,W),t(T,xs,W),t(T,Rs,W),t(T,ds,W),t(T,Fs,W),t(T,ks,W),t(T,Ws,W),t(T,ms,W),t(T,Gs,W),t(T,P,W)},p:ua,d(T){T&&(a(s),a(p),a(e),a(l),a(c),a(v),a(b),a(z),a(L),a(x),a(k),a(H),a(E),a(S),a(U),a(is),a(V),a(ws),a(K),a(hs),a(ss),a(F),a(Y),a(as),a(X),a(gs),a($),a(vs),a(es),a(Es),a(ls),a(Ms),a(ps),a(Ss),a(zs),a(G),a(Cs),a(Hs),a(Ls),a(As),a(js),a(Is),a(Ps),a(Os),a(xs),a(Rs),a(ds),a(Fs),a(ks),a(Ws),a(ms),a(Gs),a(P))}}}function En(r){let s,i;const p=[r[0],pt];let e={$$slots:{default:[In]},$$scope:{ctx:r}};for(let n=0;n<p.length;n+=1)e=Us(e,p[n]);return s=new Ga({props:e}),{c(){Zs(s.$$.fragment)},l(n){aa(s.$$.fragment,n)},m(n,l){Js(s,n,l),i=!0},p(n,[l]){const c=l&1?Wa(p,[l&1&&ia(n[0]),l&0&&ia(pt)]):{};l&2&&(c.$$scope={dirty:l,ctx:n}),s.$set(c)},i(n){i||(ns(s.$$.fragment,n),i=!0)},o(n){cs(s.$$.fragment,n),i=!1},d(n){Ks(s,n)}}}const pt={title:"Acceleration Data Structures",excerpt:"How to get spatial information about the scene efficiently",author:{nickname:"boraini",name:"Mert Bora İnevi",social:{linkedin:"https://linkedin.com/in/boraini",github:"https://github.com/boraini",deviantart:"https://deviantart.com/boraini",twitter:"https://twitter.com/BorainiOfficial",instagram:"https://instagram.com/borainevi",tumblr:"https://tumblr.com/boraini",scratch:"https://scratch.mit.edu/users/boraini",abmdevandgames:"https://abmdevandgames.blogspot.com"},page:"/blog/authors/boraini/"},thumbnail:"./_acceleration-data-structures/accel-thumbnail.svg",date:"2023-09-05",assetPath:"computer-graphics"};function Bn(r,s,i){return r.$$set=p=>{i(0,s=Us(Us({},s),la(p)))},s=la(s),[s]}class Hn extends ra{constructor(s){super(),ma(this,s,Bn,En,ca,{})}}const On=Object.freeze(Object.defineProperty({__proto__:null,default:Hn,metadata:pt},Symbol.toStringTag,{value:"Module"}));function Un(r){let s,i,p,e,n,l,c,_,v,b,m,z,L,A,x,k,j,H,E,I,S,U,ts,is,V,bs,ws,K,os,hs,ss,M,F,Y,Q,as,X,us,gs;return{c(){s=g("div"),i=document.createElementNS("w3.org/2000/svg","svg"),p=na("defs"),e=na("marker"),n=na("path"),l=na("marker"),c=na("path"),_=na("marker"),v=na("path"),b=na("g"),m=na("line"),k=na("line"),S=na("line"),bs=na("text"),ws=Ca(r[2]),K=na("g"),os=na("circle"),M=na("circle"),Q=na("circle"),this.h()},l($){s=u($,"DIV",{class:!0});var Z=J(s);i=u(Z,"svg",{class:!0,xmlns:!0,viewBox:!0});var vs=J(i);p=ea(vs,"defs",{});var es=J(p);e=ea(es,"marker",{id:!0,viewBox:!0,refX:!0,refY:!0,markerWidth:!0,markerHeight:!0,orient:!0});var Ts=J(e);n=ea(Ts,"path",{d:!0,style:!0}),J(n).forEach(a),Ts.forEach(a),l=ea(es,"marker",{id:!0,viewBox:!0,refX:!0,refY:!0,markerWidth:!0,markerHeight:!0,orient:!0});var Es=J(l);c=ea(Es,"path",{d:!0,style:!0}),J(c).forEach(a),Es.forEach(a),_=ea(es,"marker",{id:!0,viewBox:!0,refX:!0,refY:!0,markerWidth:!0,markerHeight:!0,orient:!0});var ls=J(_);v=ea(ls,"path",{d:!0,style:!0}),J(v).forEach(a),ls.forEach(a),es.forEach(a),b=ea(vs,"g",{id:!0,style:!0});var rs=J(b);m=ea(rs,"line",{x1:!0,y1:!0,x2:!0,y2:!0,style:!0}),J(m).forEach(a),k=ea(rs,"line",{x1:!0,y1:!0,x2:!0,y2:!0,style:!0}),J(k).forEach(a),S=ea(rs,"line",{x1:!0,y1:!0,x2:!0,y2:!0,style:!0}),J(S).forEach(a),rs.forEach(a),bs=ea(vs,"text",{x:!0,y:!0,"font-size":!0,style:!0});var Ms=J(bs);ws=ja(Ms,r[2]),Ms.forEach(a),K=ea(vs,"g",{id:!0,style:!0});var ps=J(K);os=ea(ps,"circle",{id:!0,cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-width":!0}),J(os).forEach(a),M=ea(ps,"circle",{id:!0,cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-width":!0}),J(M).forEach(a),Q=ea(ps,"circle",{id:!0,cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-width":!0}),J(Q).forEach(a),ps.forEach(a),vs.forEach(a),Z.forEach(a),this.h()},h(){d(n,"d","M 0 0 L 10 5 L 0 10 z"),sa(n,"fill","red"),d(e,"id","arrow1"),d(e,"viewBox","0 0 10 10"),d(e,"refX","5"),d(e,"refY","5"),d(e,"markerWidth","50"),d(e,"markerHeight","25"),d(e,"orient","auto-start-reverse"),d(c,"d","M 0 0 L 10 5 L 0 10 z"),sa(c,"fill","var(--page-foreground)"),d(l,"id","arrow2"),d(l,"viewBox","0 0 10 10"),d(l,"refX","5"),d(l,"refY","5"),d(l,"markerWidth","50"),d(l,"markerHeight","25"),d(l,"orient","auto-start-reverse"),d(v,"d","M 0 0 L 10 5 L 0 10 z"),sa(v,"fill","aqua"),d(_,"id","arrow3"),d(_,"viewBox","0 0 10 10"),d(_,"refX","5"),d(_,"refY","5"),d(_,"markerWidth","50"),d(_,"markerHeight","25"),d(_,"orient","auto-start-reverse"),d(m,"x1",z=r[0][0][0]),d(m,"y1",L=r[0][0][1]),d(m,"x2",A=r[0][1][0]),d(m,"y2",x=r[0][1][1]),sa(m,"--stroke-color","red"),sa(m,"stroke","var(--stroke-color)"),sa(m,"marker-end","url(#arrow1)"),sa(m,"stroke-width","0.1"),d(k,"x1",j=r[0][1][0]),d(k,"y1",H=r[0][1][1]),d(k,"x2",E=r[0][2][0]),d(k,"y2",I=r[0][2][1]),sa(k,"--stroke-color","var(--page-foreground)"),sa(k,"stroke","var(--stroke-color)"),sa(k,"marker-end","url(#arrow2)"),sa(k,"stroke-width","0.1"),d(S,"x1",U=r[0][2][0]),d(S,"y1",ts=r[0][2][1]),d(S,"x2",is=r[0][0][0]),d(S,"y2",V=r[0][0][1]),sa(S,"--stroke-color","aqua"),sa(S,"stroke","var(--stroke-color)"),sa(S,"marker-start","url(#arrow3)"),sa(S,"stroke-width","0.1"),d(b,"id","trianglelayer"),sa(b,"transform","scaleY(-1)"),d(bs,"x","-10"),d(bs,"y","10"),d(bs,"font-size","1.6"),sa(bs,"fill","var(--page-foreground)"),d(os,"id","pointer-1"),d(os,"cx",hs=r[0][0][0]),d(os,"cy",ss=r[0][0][1]),d(os,"r","0.8"),d(os,"fill","#f00"),d(os,"stroke","#000"),d(os,"stroke-width","0.1"),d(M,"id","pointer-2"),d(M,"cx",F=r[0][1][0]),d(M,"cy",Y=r[0][1][1]),d(M,"r","0.8"),d(M,"fill","#f00"),d(M,"stroke","#000"),d(M,"stroke-width","0.1"),d(Q,"id","pointer-3"),d(Q,"cx",as=r[0][2][0]),d(Q,"cy",X=r[0][2][1]),d(Q,"r","0.8"),d(Q,"fill","#f00"),d(Q,"stroke","#000"),d(Q,"stroke-width","0.1"),d(K,"id","pointerlayer"),sa(K,"transform","scaleY(-1)"),d(i,"class","compass-menu svelte-x8va08"),d(i,"xmlns","w3.org/2000/svg"),d(i,"viewBox","-12 -12 24 24"),d(s,"class","applet")},m($,Z){t($,s,Z),D(s,i),D(i,p),D(p,e),D(e,n),D(p,l),D(l,c),D(p,_),D(_,v),D(i,b),D(b,m),D(b,k),D(b,S),D(i,bs),D(bs,ws),D(i,K),D(K,os),D(K,M),D(K,Q),r[6](i),us||(gs=[Za(i,"pointerdown",r[3]),Za(i,"pointerup",r[5]),Za(i,"pointermove",r[4]),Za(i,"scroll",Rn)],us=!0)},p($,[Z]){Z&1&&z!==(z=$[0][0][0])&&d(m,"x1",z),Z&1&&L!==(L=$[0][0][1])&&d(m,"y1",L),Z&1&&A!==(A=$[0][1][0])&&d(m,"x2",A),Z&1&&x!==(x=$[0][1][1])&&d(m,"y2",x),Z&1&&j!==(j=$[0][1][0])&&d(k,"x1",j),Z&1&&H!==(H=$[0][1][1])&&d(k,"y1",H),Z&1&&E!==(E=$[0][2][0])&&d(k,"x2",E),Z&1&&I!==(I=$[0][2][1])&&d(k,"y2",I),Z&1&&U!==(U=$[0][2][0])&&d(S,"x1",U),Z&1&&ts!==(ts=$[0][2][1])&&d(S,"y1",ts),Z&1&&is!==(is=$[0][0][0])&&d(S,"x2",is),Z&1&&V!==(V=$[0][0][1])&&d(S,"y2",V),Z&4&&Ua(ws,$[2]),Z&1&&hs!==(hs=$[0][0][0])&&d(os,"cx",hs),Z&1&&ss!==(ss=$[0][0][1])&&d(os,"cy",ss),Z&1&&F!==(F=$[0][1][0])&&d(M,"cx",F),Z&1&&Y!==(Y=$[0][1][1])&&d(M,"cy",Y),Z&1&&as!==(as=$[0][2][0])&&d(Q,"cx",as),Z&1&&X!==(X=$[0][2][1])&&d(Q,"cy",X)},i:ua,o:ua,d($){$&&a(s),r[6](null),us=!1,Ut(gs)}}}const Rn=r=>r.preventDefault();function Fn(r,s,i){let{corners:p=[[-5,-5],[-4,8],[5,-3]]}=s,{compassField:e}=s,{message:n="Try dragging the red dots."}=s;var l={x:-12,y:-12,width:24,height:24};function c(){e||i(1,e=window.COMPASS_FIELD),_=e.getBoundingClientRect()}var _;function v(x,k){var j=(x-_.left)/_.width*l.width+l.x;j>10?j=10:j<-10&&(j=-10);var H=-(k-_.top)/_.height*l.height-l.y;H>10?H=10:H<-10&&(H=-10);let E=1/0,I;for(let ts of p){const is=Math.hypot(ts[0]-j,ts[1]-H);is<E&&(E=is,I=ts)}I[0]=j,I[1]=H,i(0,p);const S=[p[1][0]-p[0][0],p[1][1]-p[0][1]],U=[p[2][0]-p[0][0],p[2][1]-p[0][1]];i(2,n=`Triangle is facing ${U[0]*S[1]-U[1]*S[0]>0?"front":"back"}.`)}var b=void 0;function m(x){b||(b=x.pointerId,v(x.clientX,x.clientY))}function z(x){x.pointerId==b&&v(x.clientX,x.clientY)}function L(x){x.pointerId==b&&(b=void 0)}Rt(()=>{window.COMPASS_FIELD=e,addEventListener("resize",c,{passive:!0}),addEventListener("scroll",c,{passive:!0}),c()});function A(x){nt[x?"unshift":"push"](()=>{e=x,i(1,e)})}return r.$$set=x=>{"corners"in x&&i(0,p=x.corners),"compassField"in x&&i(1,e=x.compassField),"message"in x&&i(2,n=x.message)},[p,e,n,m,z,L,A]}class Wn extends ra{constructor(s){super(),ma(this,s,Fn,Un,ca,{corners:0,compassField:1,message:2})}}function $n(r){let s,i=`Hidden surface removal is one of the most fundamental problems to solve before rendering almost any 3D scene.
Not only that you get better performance by rendering less objects, you can also end up with a non-intersecting
set of polygons to simply render.`,p,e,n="Hiding Based on Turning Direction of Projected Triangles",l,c,_=`3D objects in contemporary applications are usually composed of 3D triangles whose edges are coinciding with
each other to produce a closed form. In simple triangle-rasterising rendering, these triangles are first
projected onto the camera frustum’s near plane using perspective or orthographic projection. When this is done,
the vertices either appear in clockwise or anticlockwise order. Usually if the triangle appears clockwise, we
say we are seeing the front side of it and render.`,v,b,m="Which side we are on can easily be figured out by taking the cross product of two edges.",z,L,A,x=`<code class="language-glsl"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">extension</span> <span class="token expression">GL_OES_standard_derivatives <span class="token operator">:</span> enable</span></span>

<span class="token keyword">precision</span> <span class="token keyword">highp</span> <span class="token keyword">float</span><span class="token punctuation">;</span>

<span class="token comment">//GLSL Sandbox Uniform</span>
<span class="token keyword">uniform</span> <span class="token keyword">vec2</span> resolution<span class="token punctuation">;</span>

<span class="token comment">//Clockwise order has to be a, b, c. a, b, c have already been projected.</span>
<span class="token keyword">bool</span> <span class="token function">isFront</span><span class="token punctuation">(</span><span class="token keyword">vec4</span> a<span class="token punctuation">,</span> <span class="token keyword">vec4</span> b<span class="token punctuation">,</span> <span class="token keyword">vec4</span> c<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	<span class="token keyword">vec3</span> atob <span class="token operator">=</span> <span class="token punctuation">(</span>b <span class="token operator">-</span> a<span class="token punctuation">)</span><span class="token punctuation">.</span>xyz<span class="token punctuation">;</span>
	<span class="token keyword">vec3</span> atoc <span class="token operator">=</span> <span class="token punctuation">(</span>c <span class="token operator">-</span> a<span class="token punctuation">)</span><span class="token punctuation">.</span>xyz<span class="token punctuation">;</span>
	atob<span class="token punctuation">.</span>z <span class="token operator">=</span> <span class="token number">0.0</span><span class="token punctuation">;</span>
	atoc<span class="token punctuation">.</span>z <span class="token operator">=</span> <span class="token number">0.0</span><span class="token punctuation">;</span>

	<span class="token keyword">return</span> <span class="token function">cross</span><span class="token punctuation">(</span>atoc<span class="token punctuation">,</span> atob<span class="token punctuation">)</span><span class="token punctuation">.</span>z <span class="token operator">></span> <span class="token number">0.0</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span> <span class="token keyword">void</span> <span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	<span class="token keyword">vec4</span> position <span class="token operator">=</span> <span class="token keyword">vec4</span><span class="token punctuation">(</span><span class="token number">0.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		
	position<span class="token punctuation">.</span>xy <span class="token operator">=</span> gl_FragCoord<span class="token punctuation">.</span>xy <span class="token operator">/</span> resolution<span class="token punctuation">.</span>xy<span class="token punctuation">;</span>

	<span class="token comment">//if the triangle formed by (0, 0), (1, 1), and the screen point faces front</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isFront</span><span class="token punctuation">(</span><span class="token keyword">vec4</span><span class="token punctuation">(</span><span class="token number">0.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">vec4</span><span class="token punctuation">(</span><span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> position<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		gl_FragColor <span class="token operator">=</span>  <span class="token keyword">vec4</span><span class="token punctuation">(</span><span class="token number">1.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
		gl_FragColor <span class="token operator">=</span>  <span class="token keyword">vec4</span><span class="token punctuation">(</span><span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code>`,k,j,H="In the following applet, the blue vector is atoc and the red vector is atob. You can follow the direction of the right arrow to determine if the triangle is clockwise or anticlockwise.",E,I,S,U,ts="Managing Overlapping Parts",is,V,bs="This works great to correctly hide the necessary faces of convex shapes like spheres or cubes, but struggles for shapes which have complex shapes whose parts may overlap each other when projected at certain orientations.",ws,K,os="For each overlapping part of the image, we find which object is closest to the camera. This can be done by",hs,ss,M="<li>ray tracing</li> <li>painter’s algorithm</li> <li>z-buffering</li>",F,Y,Q=`In ray tracing, a ray is generated from the camera that contains all 3D points that would be projected to the solved pixel. Then this ray is
traced in miniscule steps and the pixel color is determined according to which object is hit first. The ray may be reflected, branched etc.
to simulate light even more realistically, which would bring us to physics-based rendering.`,as,X,us=`But what if we want to be fast? We can be fast by handling each triangle instead of each pixel on the screen. The first way is to sort triangles
based on the distance of their centroids to the camera, then rendering them from farthest to closest. This is called painter’s algorithm, referring
to painters painting their paintings starting from the sky, then the background objects, and finally the closest subjects.`,gs,$,Z="This is usually not done in OpenGL, so I am providing JS code which does the thing.",vs,es,Ts,Es=`<code class="language-js"><span class="token keyword">let</span> triangles <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">[</span><span class="token punctuation">&#123;</span><span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">z</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token literal-property property">z</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token literal-property property">z</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">&#125;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token punctuation">&#123;</span><span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">z</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token literal-property property">z</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token literal-property property">z</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">&#125;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token punctuation">&#123;</span><span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">z</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token literal-property property">z</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token literal-property property">z</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">&#125;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token comment">//...</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">project</span><span class="token punctuation">(</span><span class="token parameter">p</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">//project onto the z-plane</span>
  <span class="token keyword">return</span> <span class="token punctuation">[</span>p<span class="token punctuation">.</span>x<span class="token punctuation">,</span> p<span class="token punctuation">.</span>y<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">function</span> <span class="token function">triangleComparer</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>z <span class="token operator">+</span> a<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>z <span class="token operator">+</span> a<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span>z<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token punctuation">(</span>b<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>z <span class="token operator">+</span> b<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>z <span class="token operator">+</span> b<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span>z<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">//remove back-facing triangles</span>
triangles <span class="token operator">=</span> triangles<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">tri</span> <span class="token operator">=></span> <span class="token function">isFront</span><span class="token punctuation">(</span><span class="token function">project</span><span class="token punctuation">(</span>tri<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">project</span><span class="token punctuation">(</span>tri<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">project</span><span class="token punctuation">(</span>tri<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//sort based on centroid z</span>
triangles<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>triangleComparer<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//rasterize needs to be implemented</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> <span class="token literal-property property">triangle</span> <span class="token operator">:</span> triangles<span class="token punctuation">)</span> <span class="token function">rasterize</span><span class="token punctuation">(</span>triangle<span class="token punctuation">)</span><span class="token punctuation">;</span></code>`,ls,rs,Ms="The other way is to rasterising triangles the order they appear, but also onto a depth buffer of the render. After efficiently finding the depth value of each pixel of the triangle, we compose each pixel onto the final image if the depth of the pixel is closer to the camera than anything before.",ps,_s,Ss="OpenGL pretty much does the depth-buffering for us, so no example code will be given here. It can be fraud at best.",zs;return I=new Wn({}),{c(){s=g("p"),s.textContent=i,p=o(),e=g("h2"),e.textContent=n,l=o(),c=g("p"),c.textContent=_,v=o(),b=g("p"),b.textContent=m,z=o(),L=g("pre"),A=new ys(!1),k=o(),j=g("p"),j.textContent=H,E=o(),Zs(I.$$.fragment),S=o(),U=g("h2"),U.textContent=ts,is=o(),V=g("p"),V.textContent=bs,ws=o(),K=g("p"),K.textContent=os,hs=o(),ss=g("ul"),ss.innerHTML=M,F=o(),Y=g("p"),Y.textContent=Q,as=o(),X=g("p"),X.textContent=us,gs=o(),$=g("p"),$.textContent=Z,vs=o(),es=g("pre"),Ts=new ys(!1),ls=o(),rs=g("p"),rs.textContent=Ms,ps=o(),_s=g("p"),_s.textContent=Ss,this.h()},l(B){s=u(B,"P",{"data-svelte-h":!0}),w(s)!=="svelte-yayach"&&(s.textContent=i),p=h(B),e=u(B,"H2",{"data-svelte-h":!0}),w(e)!=="svelte-7lopvh"&&(e.textContent=n),l=h(B),c=u(B,"P",{"data-svelte-h":!0}),w(c)!=="svelte-2h1310"&&(c.textContent=_),v=h(B),b=u(B,"P",{"data-svelte-h":!0}),w(b)!=="svelte-1ydbgjn"&&(b.textContent=m),z=h(B),L=u(B,"PRE",{class:!0});var G=J(L);A=fs(G,!1),G.forEach(a),k=h(B),j=u(B,"P",{"data-svelte-h":!0}),w(j)!=="svelte-14lknfe"&&(j.textContent=H),E=h(B),aa(I.$$.fragment,B),S=h(B),U=u(B,"H2",{"data-svelte-h":!0}),w(U)!=="svelte-10k7kgj"&&(U.textContent=ts),is=h(B),V=u(B,"P",{"data-svelte-h":!0}),w(V)!=="svelte-18nyw13"&&(V.textContent=bs),ws=h(B),K=u(B,"P",{"data-svelte-h":!0}),w(K)!=="svelte-bbfi64"&&(K.textContent=os),hs=h(B),ss=u(B,"UL",{"data-svelte-h":!0}),w(ss)!=="svelte-fav9ba"&&(ss.innerHTML=M),F=h(B),Y=u(B,"P",{"data-svelte-h":!0}),w(Y)!=="svelte-1rbtg6t"&&(Y.textContent=Q),as=h(B),X=u(B,"P",{"data-svelte-h":!0}),w(X)!=="svelte-qw2wrq"&&(X.textContent=us),gs=h(B),$=u(B,"P",{"data-svelte-h":!0}),w($)!=="svelte-1yggeqk"&&($.textContent=Z),vs=h(B),es=u(B,"PRE",{class:!0});var Cs=J(es);Ts=fs(Cs,!1),Cs.forEach(a),ls=h(B),rs=u(B,"P",{"data-svelte-h":!0}),w(rs)!=="svelte-fk1l9q"&&(rs.textContent=Ms),ps=h(B),_s=u(B,"P",{"data-svelte-h":!0}),w(_s)!=="svelte-rticau"&&(_s.textContent=Ss),this.h()},h(){A.a=null,d(L,"class","language-glsl"),Ts.a=null,d(es,"class","language-js")},m(B,G){t(B,s,G),t(B,p,G),t(B,e,G),t(B,l,G),t(B,c,G),t(B,v,G),t(B,b,G),t(B,z,G),t(B,L,G),A.m(x,L),t(B,k,G),t(B,j,G),t(B,E,G),Js(I,B,G),t(B,S,G),t(B,U,G),t(B,is,G),t(B,V,G),t(B,ws,G),t(B,K,G),t(B,hs,G),t(B,ss,G),t(B,F,G),t(B,Y,G),t(B,as,G),t(B,X,G),t(B,gs,G),t(B,$,G),t(B,vs,G),t(B,es,G),Ts.m(Es,es),t(B,ls,G),t(B,rs,G),t(B,ps,G),t(B,_s,G),zs=!0},p:ua,i(B){zs||(ns(I.$$.fragment,B),zs=!0)},o(B){cs(I.$$.fragment,B),zs=!1},d(B){B&&(a(s),a(p),a(e),a(l),a(c),a(v),a(b),a(z),a(L),a(k),a(j),a(E),a(S),a(U),a(is),a(V),a(ws),a(K),a(hs),a(ss),a(F),a(Y),a(as),a(X),a(gs),a($),a(vs),a(es),a(ls),a(rs),a(ps),a(_s)),Ks(I,B)}}}function Nn(r){let s,i;const p=[r[0],lt];let e={$$slots:{default:[$n]},$$scope:{ctx:r}};for(let n=0;n<p.length;n+=1)e=Us(e,p[n]);return s=new Ga({props:e}),{c(){Zs(s.$$.fragment)},l(n){aa(s.$$.fragment,n)},m(n,l){Js(s,n,l),i=!0},p(n,[l]){const c=l&1?Wa(p,[l&1&&ia(n[0]),l&0&&ia(lt)]):{};l&2&&(c.$$scope={dirty:l,ctx:n}),s.$set(c)},i(n){i||(ns(s.$$.fragment,n),i=!0)},o(n){cs(s.$$.fragment,n),i=!1},d(n){Ks(s,n)}}}const lt={title:"Hidden Surface Removal",excerpt:"Introduction to methods of hidden surface removal in contemporary 3D computer graphics",author:{nickname:"boraini",name:"Mert Bora İnevi",social:{linkedin:"https://linkedin.com/in/boraini",github:"https://github.com/boraini",deviantart:"https://deviantart.com/boraini",twitter:"https://twitter.com/BorainiOfficial",instagram:"https://instagram.com/borainevi",tumblr:"https://tumblr.com/boraini",scratch:"https://scratch.mit.edu/users/boraini",abmdevandgames:"https://abmdevandgames.blogspot.com"},page:"/blog/authors/boraini/"},thumbnail:"./triangle.png",date:"2022-07-30",tags:["3d-graphics"],assetPath:"computer-graphics"};function qn(r,s,i){return r.$$set=p=>{i(0,s=Us(Us({},s),la(p)))},s=la(s),[s]}class Dn extends ra{constructor(s){super(),ma(this,s,qn,Nn,ca,{})}}const Yn=Object.freeze(Object.defineProperty({__proto__:null,default:Dn,metadata:lt},Symbol.toStringTag,{value:"Module"}));function Qn(r){let s,i="When we talk about math in computer graphics, of course matrix transformations constitute a very important part of it. In the end, you should convert these triangles to some 2D projection to be able to rasterise them in OpenGL.",p,e,n="The low-level transformations we do in OpenGL using matrices nicely map to transformations we have studied during the Linear Algebra course. We have rotation, shearing, and scaling which work the same. However, we also need translation, which is very simple to define but actually forbidden in linear transformations. Therefore, we can look at affine transformations, which allow that.",l,c,_="Affine transformations using matrices",v,b,m="An affine transformation of a vector within a simple dimension (i. e. without projection) is a linear transformation output plus some constant vector, which is the amount of translation <em>after</em> all other transformations performed.",z,L,A='<span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.0833em;"></span><span class="mord text"><span class="mord text"><span class="mord textbf textit">Av</span></span><span class="mord textit"> </span><span class="mord text"><span class="mord textup">+</span></span><span class="mord textit"> </span><span class="mord text"><span class="mord textbf textit">t</span></span><span class="mord textit"> = </span><span class="mord text"><span class="mord textbf textit">v’</span></span></span></span></span></span></span>',x,k,j="and the corresponding inverse transformation would be",H,E,I='<span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1401em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord text"><span class="mord text"><span class="mord textbf textit">A</span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8901em;"><span style="top:-3.139em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mord text"><span class="mord textit">(</span><span class="mord text"><span class="mord textbf textit">v’</span></span><span class="mord textit"> - </span><span class="mord text"><span class="mord textbf textit">t</span></span><span class="mord textit">) = </span><span class="mord text"><span class="mord textbf textit">v</span></span></span></span></span></span></span>',S,U,ts="Implementing this like this everywhere would produce ugly code and would’t be so performant compared to pure linear transformations.",is,V,bs="Computer graphics gods had a very simple solution to this. They would just have one more dimension in the vector than the dimension of the space in context, to store an arbitrary constant to be employed in some clever math.",ws,K,os="In the case of 3D affine transformations, the fourth component of the vec4 is kept at 1.",hs,ss,M,F='<code class="language-glsl"><span class="token keyword">vec4</span> vertex <span class="token operator">=</span> <span class="token keyword">vec4</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z<span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code>',Y,Q,as="Now let’s look at how we can have a translation (transformation with only nonzero translation) matrix.",X,us,gs=`<span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:6.6em;vertical-align:-3.05em;"></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.55em;"><span style="top:-7.36em;"><span class="pstrut" style="height:4.65em;"></span><span class="mord"><span class="mord text"><span class="mord textrm">(for v having the fourth component as 1)</span></span></span></span><span style="top:-4.05em;"><span class="pstrut" style="height:4.65em;"></span><span class="mord"><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.875em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='4.800em' viewBox='0 0 875 4800'><path d='M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,1284c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-1292c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.875em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='4.800em' viewBox='0 0 875 4800'><path d='M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,1209
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-1344c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord text"><span class="mord text"><span class="mord textbf textit">v = v </span><span class="mord text"><span class="mord textbf textup">+</span></span><span class="mord textbf textit"> </span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.875em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='4.800em' viewBox='0 0 875 4800'><path d='M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,1284c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-1292c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.875em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='4.800em' viewBox='0 0 875 4800'><path d='M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,1209
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-1344c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.05em;"><span></span></span></span></span></span></span></span></span></span></span></span>`,$,Z,vs="In general, translation of a 3D vector v translated by [x y z]^T is given by.",es,Ts,Es=`<span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:4.8em;vertical-align:-2.15em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.875em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='4.800em' viewBox='0 0 875 4800'><path d='M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,1284c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-1292c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">Δ</span><span class="mord mathnormal">x</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">Δ</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">Δ</span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.875em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='4.800em' viewBox='0 0 875 4800'><path d='M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,1209
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-1344c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord text"><span class="mord text"><span class="mord textbf textit">v = v </span><span class="mord text"><span class="mord textbf textup">+</span></span><span class="mord textbf textit"> </span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.875em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='4.800em' viewBox='0 0 875 4800'><path d='M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,1284c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-1292c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">Δ</span><span class="mord mathnormal">x</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">Δ</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">Δ</span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.875em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='4.800em' viewBox='0 0 875 4800'><path d='M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,1209
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-1344c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span></span></span></span></span>`,ls,rs,Ms="Combining this with other types of transformations is also dead simple. You just need to replace the components m11 - m33 with the linear transformation matrix values which transform the vector <em>before</em> a final translation. If you want to find the transformation matrix with the translation applied before some transformations, you need to find the transformation matrices of each step separately and multiply them, first step to the RHS.",ps,_s,Ss="These don’t go beyond the LA course but the other 4x4 3D transformation matrices would be:",zs,B,G="Linear scaling",Cs,Bs,Hs=`<span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:4.8em;vertical-align:-2.15em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.875em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='4.800em' viewBox='0 0 875 4800'><path d='M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,1284c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-1292c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.04398em;">z</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.875em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='4.800em' viewBox='0 0 875 4800'><path d='M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,1209
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-1344c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span></span></span></span></span>`,Ls,qs,As="Linear right-handed rotations",js,$s,Is="Add the identity matrix column and row to the following 2D matrix at the index of the rotation axis:",Ps,Ys,Os='<span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mop">cos</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mop">sin</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">−</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">sin</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mop">cos</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span></span></span></span></span>',xs,Xs,Rs="Which gives",ds,Qs,Fs="Rotation around +x",ks,ta,Ws=`<span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:4.8em;vertical-align:-2.15em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.875em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='4.800em' viewBox='0 0 875 4800'><path d='M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,1284c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-1292c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mop">cos</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mop">sin</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">−</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">sin</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mop">cos</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.875em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='4.800em' viewBox='0 0 875 4800'><path d='M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,1209
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-1344c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span></span></span></span></span>`,ms,Ns,Gs="Rotation around +y",P,q,T=`<span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:4.8em;vertical-align:-2.15em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.875em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='4.800em' viewBox='0 0 875 4800'><path d='M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,1284c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-1292c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mop">cos</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">−</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">sin</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mop">sin</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mop">cos</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.875em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='4.800em' viewBox='0 0 875 4800'><path d='M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,1209
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-1344c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span></span></span></span></span>`,W,oa,ga="Rotation around +z",Ds,xa,ka=`<span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:4.8em;vertical-align:-2.15em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.875em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='4.800em' viewBox='0 0 875 4800'><path d='M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,1284c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-1292c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mop">cos</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mop">sin</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">−</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">sin</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mop">cos</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.875em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='4.800em' viewBox='0 0 875 4800'><path d='M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,1209
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-1344c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span></span></span></span></span>`,Vs,ba,da="Notice that all these matrices are orthogonal.";return{c(){s=g("p"),s.textContent=i,p=o(),e=g("p"),e.textContent=n,l=o(),c=g("h2"),c.textContent=_,v=o(),b=g("p"),b.innerHTML=m,z=o(),L=new ys(!1),x=o(),k=g("p"),k.textContent=j,H=o(),E=new ys(!1),S=o(),U=g("p"),U.textContent=ts,is=o(),V=g("p"),V.textContent=bs,ws=o(),K=g("p"),K.textContent=os,hs=o(),ss=g("pre"),M=new ys(!1),Y=o(),Q=g("p"),Q.textContent=as,X=o(),us=new ys(!1),$=o(),Z=g("p"),Z.textContent=vs,es=o(),Ts=new ys(!1),ls=o(),rs=g("p"),rs.innerHTML=Ms,ps=o(),_s=g("p"),_s.textContent=Ss,zs=o(),B=g("h2"),B.textContent=G,Cs=o(),Bs=new ys(!1),Ls=o(),qs=g("h2"),qs.textContent=As,js=o(),$s=g("p"),$s.textContent=Is,Ps=o(),Ys=new ys(!1),xs=o(),Xs=g("p"),Xs.textContent=Rs,ds=o(),Qs=g("p"),Qs.textContent=Fs,ks=o(),ta=new ys(!1),ms=o(),Ns=g("p"),Ns.textContent=Gs,P=o(),q=new ys(!1),W=o(),oa=g("p"),oa.textContent=ga,Ds=o(),xa=new ys(!1),Vs=o(),ba=g("p"),ba.textContent=da,this.h()},l(C){s=u(C,"P",{"data-svelte-h":!0}),w(s)!=="svelte-n3mia6"&&(s.textContent=i),p=h(C),e=u(C,"P",{"data-svelte-h":!0}),w(e)!=="svelte-1kh4x5y"&&(e.textContent=n),l=h(C),c=u(C,"H2",{"data-svelte-h":!0}),w(c)!=="svelte-14muuhb"&&(c.textContent=_),v=h(C),b=u(C,"P",{"data-svelte-h":!0}),w(b)!=="svelte-1scbpi1"&&(b.innerHTML=m),z=h(C),L=fs(C,!1),x=h(C),k=u(C,"P",{"data-svelte-h":!0}),w(k)!=="svelte-mc9lg0"&&(k.textContent=j),H=h(C),E=fs(C,!1),S=h(C),U=u(C,"P",{"data-svelte-h":!0}),w(U)!=="svelte-1jhugia"&&(U.textContent=ts),is=h(C),V=u(C,"P",{"data-svelte-h":!0}),w(V)!=="svelte-1uro4x0"&&(V.textContent=bs),ws=h(C),K=u(C,"P",{"data-svelte-h":!0}),w(K)!=="svelte-mk2ant"&&(K.textContent=os),hs=h(C),ss=u(C,"PRE",{class:!0});var N=J(ss);M=fs(N,!1),N.forEach(a),Y=h(C),Q=u(C,"P",{"data-svelte-h":!0}),w(Q)!=="svelte-1o6huzg"&&(Q.textContent=as),X=h(C),us=fs(C,!1),$=h(C),Z=u(C,"P",{"data-svelte-h":!0}),w(Z)!=="svelte-1udr4qo"&&(Z.textContent=vs),es=h(C),Ts=fs(C,!1),ls=h(C),rs=u(C,"P",{"data-svelte-h":!0}),w(rs)!=="svelte-jgvv2o"&&(rs.innerHTML=Ms),ps=h(C),_s=u(C,"P",{"data-svelte-h":!0}),w(_s)!=="svelte-hpk1gz"&&(_s.textContent=Ss),zs=h(C),B=u(C,"H2",{"data-svelte-h":!0}),w(B)!=="svelte-1wwxf6e"&&(B.textContent=G),Cs=h(C),Bs=fs(C,!1),Ls=h(C),qs=u(C,"H2",{"data-svelte-h":!0}),w(qs)!=="svelte-l4bw85"&&(qs.textContent=As),js=h(C),$s=u(C,"P",{"data-svelte-h":!0}),w($s)!=="svelte-1oydvw1"&&($s.textContent=Is),Ps=h(C),Ys=fs(C,!1),xs=h(C),Xs=u(C,"P",{"data-svelte-h":!0}),w(Xs)!=="svelte-c9yu2z"&&(Xs.textContent=Rs),ds=h(C),Qs=u(C,"P",{"data-svelte-h":!0}),w(Qs)!=="svelte-fitap6"&&(Qs.textContent=Fs),ks=h(C),ta=fs(C,!1),ms=h(C),Ns=u(C,"P",{"data-svelte-h":!0}),w(Ns)!=="svelte-s70h7z"&&(Ns.textContent=Gs),P=h(C),q=fs(C,!1),W=h(C),oa=u(C,"P",{"data-svelte-h":!0}),w(oa)!=="svelte-6tdc9w"&&(oa.textContent=ga),Ds=h(C),xa=fs(C,!1),Vs=h(C),ba=u(C,"P",{"data-svelte-h":!0}),w(ba)!=="svelte-3rsi06"&&(ba.textContent=da),this.h()},h(){L.a=x,E.a=S,M.a=null,d(ss,"class","language-glsl"),us.a=$,Ts.a=ls,Bs.a=Ls,Ys.a=xs,ta.a=ms,q.a=W,xa.a=Vs},m(C,N){t(C,s,N),t(C,p,N),t(C,e,N),t(C,l,N),t(C,c,N),t(C,v,N),t(C,b,N),t(C,z,N),L.m(A,C,N),t(C,x,N),t(C,k,N),t(C,H,N),E.m(I,C,N),t(C,S,N),t(C,U,N),t(C,is,N),t(C,V,N),t(C,ws,N),t(C,K,N),t(C,hs,N),t(C,ss,N),M.m(F,ss),t(C,Y,N),t(C,Q,N),t(C,X,N),us.m(gs,C,N),t(C,$,N),t(C,Z,N),t(C,es,N),Ts.m(Es,C,N),t(C,ls,N),t(C,rs,N),t(C,ps,N),t(C,_s,N),t(C,zs,N),t(C,B,N),t(C,Cs,N),Bs.m(Hs,C,N),t(C,Ls,N),t(C,qs,N),t(C,js,N),t(C,$s,N),t(C,Ps,N),Ys.m(Os,C,N),t(C,xs,N),t(C,Xs,N),t(C,ds,N),t(C,Qs,N),t(C,ks,N),ta.m(Ws,C,N),t(C,ms,N),t(C,Ns,N),t(C,P,N),q.m(T,C,N),t(C,W,N),t(C,oa,N),t(C,Ds,N),xa.m(ka,C,N),t(C,Vs,N),t(C,ba,N)},p:ua,d(C){C&&(a(s),a(p),a(e),a(l),a(c),a(v),a(b),a(z),L.d(),a(x),a(k),a(H),E.d(),a(S),a(U),a(is),a(V),a(ws),a(K),a(hs),a(ss),a(Y),a(Q),a(X),us.d(),a($),a(Z),a(es),Ts.d(),a(ls),a(rs),a(ps),a(_s),a(zs),a(B),a(Cs),Bs.d(),a(Ls),a(qs),a(js),a($s),a(Ps),Ys.d(),a(xs),a(Xs),a(ds),a(Qs),a(ks),ta.d(),a(ms),a(Ns),a(P),q.d(),a(W),a(oa),a(Ds),xa.d(),a(Vs),a(ba))}}}function Gn(r){let s,i;const p=[r[0],it];let e={$$slots:{default:[Qn]},$$scope:{ctx:r}};for(let n=0;n<p.length;n+=1)e=Us(e,p[n]);return s=new Ga({props:e}),{c(){Zs(s.$$.fragment)},l(n){aa(s.$$.fragment,n)},m(n,l){Js(s,n,l),i=!0},p(n,[l]){const c=l&1?Wa(p,[l&1&&ia(n[0]),l&0&&ia(it)]):{};l&2&&(c.$$scope={dirty:l,ctx:n}),s.$set(c)},i(n){i||(ns(s.$$.fragment,n),i=!0)},o(n){cs(s.$$.fragment,n),i=!1},d(n){Ks(s,n)}}}const it={title:"Linear and Affine Transformations",excerpt:"Cheatsheet about affine transformation matrices",author:{nickname:"boraini",name:"Mert Bora İnevi",social:{linkedin:"https://linkedin.com/in/boraini",github:"https://github.com/boraini",deviantart:"https://deviantart.com/boraini",twitter:"https://twitter.com/BorainiOfficial",instagram:"https://instagram.com/borainevi",tumblr:"https://tumblr.com/boraini",scratch:"https://scratch.mit.edu/users/boraini",abmdevandgames:"https://abmdevandgames.blogspot.com"},page:"/blog/authors/boraini/"},date:"2022-08-30",thumbnail:"./linear-and-affine-transformations.png",assetPath:"computer-graphics"};function Vn(r,s,i){return r.$$set=p=>{i(0,s=Us(Us({},s),la(p)))},s=la(s),[s]}class Zn extends ra{constructor(s){super(),ma(this,s,Vn,Gn,ca,{})}}const Jn=Object.freeze(Object.defineProperty({__proto__:null,default:Zn,metadata:it},Symbol.toStringTag,{value:"Module"})),Kn=""+new URL("../assets/linear-and-affine-transformations.95adcc8c.png",import.meta.url).href,Xn=Object.freeze(Object.defineProperty({__proto__:null,default:Kn},Symbol.toStringTag,{value:"Module"}));function se(r){let s,i="When we start talking about relative positions of different objects in 2D/3D space, we see that they form a hierarchy where the children are related to their parent by the fact that their independent transformation is given relative to their parent.",p,e,n="We can think of this hierarchy as a tree structure. The root of the tree would be the world. The camera and all the other objects would be descendants of world. Additionally we could parent camera to the player object, the arm of the player to the player’s torso etc.",l,c,_="The edges of this tree would store a transformation from the child’s <em>local space</em> to the parent’s <em>local space</em>, or vice versa. You just have to know what you are doing. For this article we will store the transformation from the local space to the parent - so we have to multiply the local space matrices from the RHS.",v,b,m="By convention and since it makes applying parent-child relationships easy, we usually run a depth-first traversal over such hierarchy to calculate how objects local parts transform from the object’s local space to the <em>world space</em> - the local space of the root of our tree.",z,L,A="What data structure do you use for a depth-first traversal? A stack, of course!",x,k,j,H=`<code class="language-undefined">matrixStack = []
currentTransformation = indentityMatrix()

// Note that we have the call stack also

def traverse(tree) &#123;
matrixStack.push(currentTransformation)
drawCurrent(currentTransformation)
for (child in tree.children) traverse(child)
currentTransformation = matrixStack.pop()
&#125;

traverse(root)</code>`,E,I,S="This might seem like too much boilerplate, but you don’t need to explicitly write it and it ensures a few things:",U,ts,is=`<li>The children can freely use any transformation.</li> <li>When writing the algorithm, you don’t have to worry about breaking the current transformation when you make draw calls for children.
To give a possibly even more relatable analogy, the premises are pretty similar to x86 call conventions.</li>`,V,bs,ws="Applying to a Real World situation",K,os,hs="Let’s see how we can apply this to a scene that might occur in a Real World™ game/application. We are going to look at how to draw some blocky video game character’s arm.",ss,M,F=`<img src="${Nt}" alt="Character Arm"/>`,Y,Q,as="The arm consists of four segments: upper and lower arm, palm, and finger. This way our character can hold things. We also can draw only two types of primitives: a rectangle that spans from (0, 0) to (2, 1) in the local space and a circle at the local origin with radius 1. We have to draw different sized rectangles for arm segments and circles to hide the tearing joints under rotation and the square tips of terminating segments.",X,us,gs="We can first try to draw the scene hierarchy tree. We won’t include the camera because it is beyond our scope right now.",$,Z,vs=`<img src="${qt}" alt="Basic Object Hierarchy"/>`,es,Ts,Es="Now, since we can’t go and draw an upper arm, we have to parent the necessary primitives to different objects, which will also have their own local transformations to bring them to the shape we want.",ls,rs,Ms=`<img src="${Dt}" alt="Complete Object Hierarchy"/>`,ps,_s,Ss="Exploring what would happen if we didn’t add a layer of abstraction like this and added especially the scaling directly to the main objects is an exercise for the reader.",zs,B,G="Then we can look at how the depth first traversal would happen. There is a straight path from the shoulder to the finger so we can say that would be the main traversal.",Cs,Bs,Hs,Ls=`<code class="language-undefined">draw arm (matrix) &#123;
current = matrix

draw shoulder(current)

push current
rotate current by upper arm angle
draw upper arm(current)
translate current by upper arm length

push current
rotate current by lower arm angle
draw lower arm(current)
translate current by lower arm length

push current
rotate current by palm angle
draw palm
translate current by palm length

push current
rotate current by finger angle
draw finger

pop current
pop current
pop current
pop current
&#125;</code>`,qs,As,js="Since this was a linear traversal, we didn’t need to push and pop any matrix at this level. Anyways, we will remove these calls next time we use it.",$s,Is,Ps="Now, we can look at how to draw segments. If you have noticed, we only have one type of segment which is made up of a rectangle and a circle, and which is distinguished by its thickness and length. We can write a function which will draw this.",Ys,Os,xs,Xs=`<code class="language-undefined">draw segment (matrix, thickness, length) &#123;
//remember, the rectangle primitive extends between (0, 0) and (2, 1)
localScaling = S(length / 2, thickness)
localTranslation = T(0, -0.5)
//we include the parent transformation here
loadMatrix(matrix * localScaling * localTranslation)
drawRectangle()

localScaling = S(thickness / 2)
localTranslation = T(length, 0)
loadMatrix(matrix * localTranslation * localScaling)
drawCircle()
&#125;</code>`,Rs,ds,Qs="Then you can replace the draw upper arm() etc. with a call to this function with proper arguments. How this is related to all the depth-first traversal is, if we receive the matrix argument by value, we can’t change its value as it appears in the caller. This provides the encapsulation of the transformations that we want for the children.",Fs,ks,ta="The final pseudocode for draw arm would look like",Ws,ms,Ns,Gs=`<code class="language-undefined">draw arm (matrix) &#123;
current = matrix

draw circle(current)

current = current * R(upper arm angle)
draw segment(current, 1, 3)
current = current * T(3, 0)

current = current * R(lower arm angle)
draw segment(current, 0.8, 3)
current = current * T(3, 0)

current = current * R(palm angle)
draw segment(current, 0.3, 0.7)
current = current * T(0.7, 0)

current = current * R(finger angle)
draw segment(current, 0.2, 0.7)
&#125;</code>`;return{c(){s=g("p"),s.textContent=i,p=o(),e=g("p"),e.textContent=n,l=o(),c=g("p"),c.innerHTML=_,v=o(),b=g("p"),b.innerHTML=m,z=o(),L=g("p"),L.textContent=A,x=o(),k=g("pre"),j=new ys(!1),E=o(),I=g("p"),I.textContent=S,U=o(),ts=g("ul"),ts.innerHTML=is,V=o(),bs=g("h2"),bs.textContent=ws,K=o(),os=g("p"),os.textContent=hs,ss=o(),M=g("p"),M.innerHTML=F,Y=o(),Q=g("p"),Q.textContent=as,X=o(),us=g("p"),us.textContent=gs,$=o(),Z=g("p"),Z.innerHTML=vs,es=o(),Ts=g("p"),Ts.textContent=Es,ls=o(),rs=g("p"),rs.innerHTML=Ms,ps=o(),_s=g("p"),_s.textContent=Ss,zs=o(),B=g("p"),B.textContent=G,Cs=o(),Bs=g("pre"),Hs=new ys(!1),qs=o(),As=g("p"),As.textContent=js,$s=o(),Is=g("p"),Is.textContent=Ps,Ys=o(),Os=g("pre"),xs=new ys(!1),Rs=o(),ds=g("p"),ds.textContent=Qs,Fs=o(),ks=g("p"),ks.textContent=ta,Ws=o(),ms=g("pre"),Ns=new ys(!1),this.h()},l(P){s=u(P,"P",{"data-svelte-h":!0}),w(s)!=="svelte-1rtc87x"&&(s.textContent=i),p=h(P),e=u(P,"P",{"data-svelte-h":!0}),w(e)!=="svelte-zo6j4m"&&(e.textContent=n),l=h(P),c=u(P,"P",{"data-svelte-h":!0}),w(c)!=="svelte-6kepl9"&&(c.innerHTML=_),v=h(P),b=u(P,"P",{"data-svelte-h":!0}),w(b)!=="svelte-1dnzpjo"&&(b.innerHTML=m),z=h(P),L=u(P,"P",{"data-svelte-h":!0}),w(L)!=="svelte-19dcbu7"&&(L.textContent=A),x=h(P),k=u(P,"PRE",{class:!0});var q=J(k);j=fs(q,!1),q.forEach(a),E=h(P),I=u(P,"P",{"data-svelte-h":!0}),w(I)!=="svelte-10igbi7"&&(I.textContent=S),U=h(P),ts=u(P,"UL",{"data-svelte-h":!0}),w(ts)!=="svelte-14omn2"&&(ts.innerHTML=is),V=h(P),bs=u(P,"H2",{"data-svelte-h":!0}),w(bs)!=="svelte-1s7d9wk"&&(bs.textContent=ws),K=h(P),os=u(P,"P",{"data-svelte-h":!0}),w(os)!=="svelte-q80zgz"&&(os.textContent=hs),ss=h(P),M=u(P,"P",{"data-svelte-h":!0}),w(M)!=="svelte-1c4578l"&&(M.innerHTML=F),Y=h(P),Q=u(P,"P",{"data-svelte-h":!0}),w(Q)!=="svelte-73vk4b"&&(Q.textContent=as),X=h(P),us=u(P,"P",{"data-svelte-h":!0}),w(us)!=="svelte-exi2cx"&&(us.textContent=gs),$=h(P),Z=u(P,"P",{"data-svelte-h":!0}),w(Z)!=="svelte-1kx2ix7"&&(Z.innerHTML=vs),es=h(P),Ts=u(P,"P",{"data-svelte-h":!0}),w(Ts)!=="svelte-1a8dyk3"&&(Ts.textContent=Es),ls=h(P),rs=u(P,"P",{"data-svelte-h":!0}),w(rs)!=="svelte-124y207"&&(rs.innerHTML=Ms),ps=h(P),_s=u(P,"P",{"data-svelte-h":!0}),w(_s)!=="svelte-wfq5o8"&&(_s.textContent=Ss),zs=h(P),B=u(P,"P",{"data-svelte-h":!0}),w(B)!=="svelte-1tq696s"&&(B.textContent=G),Cs=h(P),Bs=u(P,"PRE",{class:!0});var T=J(Bs);Hs=fs(T,!1),T.forEach(a),qs=h(P),As=u(P,"P",{"data-svelte-h":!0}),w(As)!=="svelte-1jn5tma"&&(As.textContent=js),$s=h(P),Is=u(P,"P",{"data-svelte-h":!0}),w(Is)!=="svelte-mbf5xk"&&(Is.textContent=Ps),Ys=h(P),Os=u(P,"PRE",{class:!0});var W=J(Os);xs=fs(W,!1),W.forEach(a),Rs=h(P),ds=u(P,"P",{"data-svelte-h":!0}),w(ds)!=="svelte-1rbim4g"&&(ds.textContent=Qs),Fs=h(P),ks=u(P,"P",{"data-svelte-h":!0}),w(ks)!=="svelte-1y2uln0"&&(ks.textContent=ta),Ws=h(P),ms=u(P,"PRE",{class:!0});var oa=J(ms);Ns=fs(oa,!1),oa.forEach(a),this.h()},h(){j.a=null,d(k,"class","language-undefined"),Hs.a=null,d(Bs,"class","language-undefined"),xs.a=null,d(Os,"class","language-undefined"),Ns.a=null,d(ms,"class","language-undefined")},m(P,q){t(P,s,q),t(P,p,q),t(P,e,q),t(P,l,q),t(P,c,q),t(P,v,q),t(P,b,q),t(P,z,q),t(P,L,q),t(P,x,q),t(P,k,q),j.m(H,k),t(P,E,q),t(P,I,q),t(P,U,q),t(P,ts,q),t(P,V,q),t(P,bs,q),t(P,K,q),t(P,os,q),t(P,ss,q),t(P,M,q),t(P,Y,q),t(P,Q,q),t(P,X,q),t(P,us,q),t(P,$,q),t(P,Z,q),t(P,es,q),t(P,Ts,q),t(P,ls,q),t(P,rs,q),t(P,ps,q),t(P,_s,q),t(P,zs,q),t(P,B,q),t(P,Cs,q),t(P,Bs,q),Hs.m(Ls,Bs),t(P,qs,q),t(P,As,q),t(P,$s,q),t(P,Is,q),t(P,Ys,q),t(P,Os,q),xs.m(Xs,Os),t(P,Rs,q),t(P,ds,q),t(P,Fs,q),t(P,ks,q),t(P,Ws,q),t(P,ms,q),Ns.m(Gs,ms)},p:ua,d(P){P&&(a(s),a(p),a(e),a(l),a(c),a(v),a(b),a(z),a(L),a(x),a(k),a(E),a(I),a(U),a(ts),a(V),a(bs),a(K),a(os),a(ss),a(M),a(Y),a(Q),a(X),a(us),a($),a(Z),a(es),a(Ts),a(ls),a(rs),a(ps),a(_s),a(zs),a(B),a(Cs),a(Bs),a(qs),a(As),a($s),a(Is),a(Ys),a(Os),a(Rs),a(ds),a(Fs),a(ks),a(Ws),a(ms))}}}function ae(r){let s,i;const p=[r[0],ct];let e={$$slots:{default:[se]},$$scope:{ctx:r}};for(let n=0;n<p.length;n+=1)e=Us(e,p[n]);return s=new Ga({props:e}),{c(){Zs(s.$$.fragment)},l(n){aa(s.$$.fragment,n)},m(n,l){Js(s,n,l),i=!0},p(n,[l]){const c=l&1?Wa(p,[l&1&&ia(n[0]),l&0&&ia(ct)]):{};l&2&&(c.$$scope={dirty:l,ctx:n}),s.$set(c)},i(n){i||(ns(s.$$.fragment,n),i=!0)},o(n){cs(s.$$.fragment,n),i=!1},d(n){Ks(s,n)}}}const ct={title:"Local and World Spaces",author:{nickname:"boraini",name:"Mert Bora İnevi",social:{linkedin:"https://linkedin.com/in/boraini",github:"https://github.com/boraini",deviantart:"https://deviantart.com/boraini",twitter:"https://twitter.com/BorainiOfficial",instagram:"https://instagram.com/borainevi",tumblr:"https://tumblr.com/boraini",scratch:"https://scratch.mit.edu/users/boraini",abmdevandgames:"https://abmdevandgames.blogspot.com"},page:"/blog/authors/boraini/"},date:"2022-09-20",excerpt:"An attempt to explain how local and world spaces work in computer graphics scene hierarchies",thumbnail:"./_local-and-world-space/character-arm.svg",assetPath:"computer-graphics"};function te(r,s,i){return r.$$set=p=>{i(0,s=Us(Us({},s),la(p)))},s=la(s),[s]}class ne extends ra{constructor(s){super(),ma(this,s,te,ae,ca,{})}}const ee=Object.freeze(Object.defineProperty({__proto__:null,default:ne,metadata:ct},Symbol.toStringTag,{value:"Module"}));function pe(r){let s,i="<p>This article was modified on 2023-10-30 in order to have the proper theory about perspective projection matrices. You can find the old version on GitHub as of 2023-10-30 if you look at the File History.</p>",p,e,n="In my article about linear and affine transformations I have talked about how CG people were so clever that they added a (n + 1)th dimension to their position vectors to enable translation. Well, this is still correct, but there is something more this is used for.",l,c,_="If you have looked into perspective before, you know that it makes farther objects shrink when they are perspective projected. This is achieved by dividing each point on the surface by its depth, something foreign to the linear transformations employed in 3D graphics, where every component of vectors are independently transformed.",v,b,m="To be able to do the necessary things using this linear framework, mathematicians have decided to use projective spaces. A projective space is a space of (n - 1) dimensions (a plane in the case of 3D) where a set of n-dimensional points will be mapped onto the same point. This might seem similar to orthographic projection, where you transform the scene into the camera local space and then drop the depth dimension. This article will focus onto the type where points that are multiples of each other map onto the same point.",z,L,A="For the projective space used for perspective, the rule is",x,k,j='<span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mord text"><span class="mord text"><span class="mord textbf textup">v</span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal">b</span><span class="mord text"><span class="mord text"><span class="mord textbf textup">v</span></span></span><span class="mclose">)</span></span></span></span></span>',H,E,I="where P is the projection function, v is an n + 1 dimensional vector and a and b are scalars. v is the representative of the set of vectors that are mapped the same. In OpenGL and usually in other CG frameworks, the representative has the extra component (we will call it w) as 1. This means we divide the transformed vectors by their extra component to get their representative. We can call the representative point the projected point.",S,U,ts="We can adjust how the projection works by changing the extra component row of our projection matrix.",is,V,bs="Linear transformation:",ws,K,os=`<span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:4.8em;vertical-align:-2.15em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.875em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='4.800em' viewBox='0 0 875 4800'><path d='M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,1284c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-1292c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">a</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">e</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">i</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">b</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05724em;">j</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">c</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">d</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">h</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.01968em;">l</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.875em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='4.800em' viewBox='0 0 875 4800'><path d='M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,1209
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-1344c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span></span></span></span></span>`,hs,ss,M="Vanishing point at the center of projective plane:",F,Y,Q=`<span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:4.8em;vertical-align:-2.15em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.875em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='4.800em' viewBox='0 0 875 4800'><path d='M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,1284c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-1292c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">a</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">e</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">i</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">b</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05724em;">j</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">c</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">d</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">h</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.01968em;">l</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.875em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='4.800em' viewBox='0 0 875 4800'><path d='M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,1209
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-1344c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span></span></span></span></span>`,as,X,us="Vanishing point somewhere else:",gs,$,Z=`<span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:4.8em;vertical-align:-2.15em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.875em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='4.800em' viewBox='0 0 875 4800'><path d='M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,1284c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-1292c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">a</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">e</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">i</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">b</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05724em;">j</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">c</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">d</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">h</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.01968em;">l</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.875em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='4.800em' viewBox='0 0 875 4800'><path d='M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,1209
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-1344c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span></span></span></span></span>`,vs,es,Ts="Any useful perspective projection matrix create two singularities:",Es,ls,rs="<li>all points far away from the origin seem to merge at the vanishing point.</li> <li>lines formed by all points projected onto the same representative point seem to emerge out of some focal point.</li>",Ms,ps,_s="This corresponds to how pinhole cameras (<em>camera obscura</em> boxes) work. The focus is the pinhole and all light on the same line away from the focus shine onto the same point on the screen behind the pinhole. We can derive a projection matrix which will execute this appropriately.",Ss,zs,B="To have a good reference frame while designing our scene and math, we talk about the thing called a frustum. Frustum is defined as a pyramid whose apex is cut off, revealing another face that is parallel to the base. In our case, the pyramid would have its apex at the focal point (or the pinhole) and the base would extend to infinity, forming the view cone. Note that we are exploiting the fact that we only have rays that pass through the pinhole unlike the real-world, so we can as well put the light capturing surface in front of the pinhole to get a right-side-up image.",G,Cs,Bs=`<img src="${Yt}" alt="Frustum in 2D with the simulated camera obscura box"/>`,Hs,Ls,qs="Frustum in 2D with the simulated camera obscura box.",As,js,$s="The near plane is what we have told about above — the cut face of the frustum. The frustum will be mapped onto n normalized coordinates between -1 and 1. If we map the points on the near plane to depth coordinate 1, we map some to -1; the latter points will be on the far plane. Points on the other faces of the frustum will have -1 or 1 as other mapped coordinates. By the way, to get actual projection, we just drop the depth coordinate after finding the representative point.",Is,Ps,Ys="To derive the projection matrix, let’s start with how w is calculated for a 3D point. Let’s say the near plane is at a distance n and the far plane is at a distance f to the focal point. We would like to divide the x and y coordinates by the depth value which is done by setting the w value to the unprojected z coordinate. We also want z’ (the mapped depth coordinate) to be 1 for the near plane and -1 for the far plane.",Os,xs,Xs="<li>z’ = -1 for points on near</li> <li>z’ = 1 for points on far</li> <li>w = -z</li>",Rs,ds,Qs="First, the equation for w is -z. The negative sign is there because z is negative for points in front of the camera.",Fs,ks,ta="We would like z’ to be inversely proportional to the z value. This will allow us to do screen-space operations with the perspectively scaled z coordinate, so, for example, we can have greater parallax difference in screen space for object pairs closer to the camera.",Ws,ms,Ns="Let’s set up an equation z’ = A/z + b.",Gs,P,q="For the near and far planes, this becomes the following. Note that n and f are positive while their plane z coordinates would be negative if they are in front of the camera.",T,W,oa='<span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3em;vertical-align:-1.25em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.75em;"><span style="top:-3.91em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">−</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">A</span><span class="mord">/</span><span class="mopen">(</span><span class="mord">−</span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">A</span><span class="mord">/</span><span class="mopen">(</span><span class="mord">−</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.25em;"><span></span></span></span></span></span></span></span></span></span></span></span>',ga,Ds,xa="If we add them together and apply some algebra:",ka,Vs,ba='<span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.3074em;vertical-align:-0.8804em;"></span><span class="mord">−</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">−</span><span class="mord">2</span><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8804em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span>',da,C,N="Then, we plug this in into the near plane equation as B.",Ba,va,Xa='<span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:9.2668em;vertical-align:-4.3834em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:4.8834em;"><span style="top:-6.8834em;"><span class="pstrut" style="height:3.427em;"></span><span class="mord"><span class="mord">−</span><span class="mord">1</span></span></span><span style="top:-4.2759em;"><span class="pstrut" style="height:3.427em;"></span><span class="mord"><span class="mord">−</span><span class="mord">1</span></span></span><span style="top:-2.2555em;"><span class="pstrut" style="height:3.427em;"></span><span class="mord"><span class="mord">2</span><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span></span></span><span style="top:-0.2241em;"><span class="pstrut" style="height:3.427em;"></span><span class="mord"><span class="mord mathnormal">A</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:4.3834em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:4.8834em;"><span style="top:-6.8834em;"><span class="pstrut" style="height:3.427em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">−</span><span class="mord mathnormal">n</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">A</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7693em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">−</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">−</span><span class="mord">2</span><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8804em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-4.2759em;"><span class="pstrut" style="height:3.427em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">−</span><span class="mord">2</span><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="mopen">(</span><span class="mord">2</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8804em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-2.2555em;"><span class="pstrut" style="height:3.427em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">A</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span><span style="top:-0.2241em;"><span class="pstrut" style="height:3.427em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">n</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8804em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:4.3834em;"><span></span></span></span></span></span></span></span></span></span></span></span>',Pa,ha,$a="Then we can plug it into the equation for B in order to get A.",Va,Ta,Ha='<span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:5.2149em;vertical-align:-2.3574em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.8574em;"><span style="top:-4.8574em;"><span class="pstrut" style="height:3.427em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:3.427em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.3574em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.8574em;"><span style="top:-4.8574em;"><span class="pstrut" style="height:3.427em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">−</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">−</span><span class="mord">2</span><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:3.427em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">n</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8804em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.3574em;"><span></span></span></span></span></span></span></span></span></span></span></span>',Ra,wa,La=`Now, this might scare us since it is not a linear equation i. e. we can’t put it into the projection matrix and expect it to work.
However, we should not forget to scale everything up by w = -z, which is necessary since the graphics pipeline will divide every coordinate by w.`,Na,Ma,Oa='<span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:7.8779em;vertical-align:-3.6889em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:4.1889em;"><span style="top:-6.2445em;"><span class="pstrut" style="height:3.427em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.5815em;"><span class="pstrut" style="height:3.427em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span><span style="top:-0.9185em;"><span class="pstrut" style="height:3.427em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.6889em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:4.1889em;"><span style="top:-6.2445em;"><span class="pstrut" style="height:3.427em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">n</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8804em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-3.5815em;"><span class="pstrut" style="height:3.427em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord">−</span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">n</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">−</span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8804em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-0.9185em;"><span class="pstrut" style="height:3.427em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">−</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">n</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8804em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">−</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">n</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8804em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.6889em;"><span></span></span></span></span></span></span></span></span></span></span></span>',Fa,_a,Sa=`And the other coordinates are given as below. The aspect ratio is the screen width divided by screen height.
The camera that we are simulating will always have the image sensor shaped like a square, and the pipeline will stretch the projected
objects horizontally in order to cover the screen. We could also instead scale down in the vertical direction but let’s choose to do it the former way. We fit the vertical coordinates one to one to the screen in that case. We still have to divide instead of multiplying since aspect ratio is scaling of the horizontal compared to the vertical, not the other way.`,qa,Aa,Da='<span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.788em;vertical-align:-1.644em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.144em;"><span style="top:-4.4116em;"><span class="pstrut" style="height:3.1076em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span><span style="top:-2.644em;"><span class="pstrut" style="height:3.1076em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.644em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.144em;"><span style="top:-4.4116em;"><span class="pstrut" style="height:3.1076em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">x</span></span></span><span style="top:-2.644em;"><span class="pstrut" style="height:3.1076em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.1076em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord textup">aspect ratio</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8804em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.644em;"><span></span></span></span></span></span></span></span></span></span></span></span>',Ya,ya,Qa="Oh hey, we have got the OpenGL perspective projection matrix! This time it should be correct, if you have read the old version of this article.",y,O,st=`<span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:5.1395em;vertical-align:-2.3198em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.875em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='4.800em' viewBox='0 0 875 4800'><path d='M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,1284c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-1292c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.8198em;"><span style="top:-4.9798em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.7747em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.3613em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.0402em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.3198em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.8198em;"><span style="top:-4.9798em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.7747em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord textup mtight">aspect ratio</span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4811em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-2.3613em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.0402em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.3198em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.8198em;"><span style="top:-4.9798em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.7747em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.3613em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">−</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9322em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="mbin mtight">−</span><span class="mord mathnormal mtight">n</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.4461em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="mbin mtight">+</span><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4811em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-1.0402em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">−</span><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.3198em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.8198em;"><span style="top:-4.9798em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.7747em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.3613em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">−</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9322em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="mbin mtight">−</span><span class="mord mathnormal mtight">n</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.4461em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathnormal mtight">n</span><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4811em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-1.0402em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.3198em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.875em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='4.800em' viewBox='0 0 875 4800'><path d='M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,1209
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-1344c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span></span></span></span></span>`,Ka;return{c(){s=g("blockquote"),s.innerHTML=i,p=o(),e=g("p"),e.textContent=n,l=o(),c=g("p"),c.textContent=_,v=o(),b=g("p"),b.textContent=m,z=o(),L=g("p"),L.textContent=A,x=o(),k=new ys(!1),H=o(),E=g("p"),E.textContent=I,S=o(),U=g("p"),U.textContent=ts,is=o(),V=g("p"),V.textContent=bs,ws=o(),K=new ys(!1),hs=o(),ss=g("p"),ss.textContent=M,F=o(),Y=new ys(!1),as=o(),X=g("p"),X.textContent=us,gs=o(),$=new ys(!1),vs=o(),es=g("p"),es.textContent=Ts,Es=o(),ls=g("ul"),ls.innerHTML=rs,Ms=o(),ps=g("p"),ps.innerHTML=_s,Ss=o(),zs=g("p"),zs.textContent=B,G=o(),Cs=g("p"),Cs.innerHTML=Bs,Hs=o(),Ls=g("p"),Ls.textContent=qs,As=o(),js=g("p"),js.textContent=$s,Is=o(),Ps=g("p"),Ps.textContent=Ys,Os=o(),xs=g("ul"),xs.innerHTML=Xs,Rs=o(),ds=g("p"),ds.textContent=Qs,Fs=o(),ks=g("p"),ks.textContent=ta,Ws=o(),ms=g("p"),ms.textContent=Ns,Gs=o(),P=g("p"),P.textContent=q,T=o(),W=new ys(!1),ga=o(),Ds=g("p"),Ds.textContent=xa,ka=o(),Vs=new ys(!1),da=o(),C=g("p"),C.textContent=N,Ba=o(),va=new ys(!1),Pa=o(),ha=g("p"),ha.textContent=$a,Va=o(),Ta=new ys(!1),Ra=o(),wa=g("p"),wa.textContent=La,Na=o(),Ma=new ys(!1),Fa=o(),_a=g("p"),_a.textContent=Sa,qa=o(),Aa=new ys(!1),Ya=o(),ya=g("p"),ya.textContent=Qa,y=o(),O=new ys(!1),Ka=pa(),this.h()},l(f){s=u(f,"BLOCKQUOTE",{"data-svelte-h":!0}),w(s)!=="svelte-nfob5o"&&(s.innerHTML=i),p=h(f),e=u(f,"P",{"data-svelte-h":!0}),w(e)!=="svelte-18auggz"&&(e.textContent=n),l=h(f),c=u(f,"P",{"data-svelte-h":!0}),w(c)!=="svelte-py50qi"&&(c.textContent=_),v=h(f),b=u(f,"P",{"data-svelte-h":!0}),w(b)!=="svelte-s07u52"&&(b.textContent=m),z=h(f),L=u(f,"P",{"data-svelte-h":!0}),w(L)!=="svelte-lw9guu"&&(L.textContent=A),x=h(f),k=fs(f,!1),H=h(f),E=u(f,"P",{"data-svelte-h":!0}),w(E)!=="svelte-jqsaqg"&&(E.textContent=I),S=h(f),U=u(f,"P",{"data-svelte-h":!0}),w(U)!=="svelte-6q6l6c"&&(U.textContent=ts),is=h(f),V=u(f,"P",{"data-svelte-h":!0}),w(V)!=="svelte-1u3b90o"&&(V.textContent=bs),ws=h(f),K=fs(f,!1),hs=h(f),ss=u(f,"P",{"data-svelte-h":!0}),w(ss)!=="svelte-16s2jku"&&(ss.textContent=M),F=h(f),Y=fs(f,!1),as=h(f),X=u(f,"P",{"data-svelte-h":!0}),w(X)!=="svelte-i4bdvp"&&(X.textContent=us),gs=h(f),$=fs(f,!1),vs=h(f),es=u(f,"P",{"data-svelte-h":!0}),w(es)!=="svelte-p9ihzv"&&(es.textContent=Ts),Es=h(f),ls=u(f,"UL",{"data-svelte-h":!0}),w(ls)!=="svelte-awt637"&&(ls.innerHTML=rs),Ms=h(f),ps=u(f,"P",{"data-svelte-h":!0}),w(ps)!=="svelte-syeqi"&&(ps.innerHTML=_s),Ss=h(f),zs=u(f,"P",{"data-svelte-h":!0}),w(zs)!=="svelte-tp56is"&&(zs.textContent=B),G=h(f),Cs=u(f,"P",{"data-svelte-h":!0}),w(Cs)!=="svelte-1umfrat"&&(Cs.innerHTML=Bs),Hs=h(f),Ls=u(f,"P",{"data-svelte-h":!0}),w(Ls)!=="svelte-itlwb1"&&(Ls.textContent=qs),As=h(f),js=u(f,"P",{"data-svelte-h":!0}),w(js)!=="svelte-1wogy9r"&&(js.textContent=$s),Is=h(f),Ps=u(f,"P",{"data-svelte-h":!0}),w(Ps)!=="svelte-4cns62"&&(Ps.textContent=Ys),Os=h(f),xs=u(f,"UL",{"data-svelte-h":!0}),w(xs)!=="svelte-1v7p3c"&&(xs.innerHTML=Xs),Rs=h(f),ds=u(f,"P",{"data-svelte-h":!0}),w(ds)!=="svelte-1lop771"&&(ds.textContent=Qs),Fs=h(f),ks=u(f,"P",{"data-svelte-h":!0}),w(ks)!=="svelte-ms3m1e"&&(ks.textContent=ta),Ws=h(f),ms=u(f,"P",{"data-svelte-h":!0}),w(ms)!=="svelte-nfharq"&&(ms.textContent=Ns),Gs=h(f),P=u(f,"P",{"data-svelte-h":!0}),w(P)!=="svelte-bu9l5j"&&(P.textContent=q),T=h(f),W=fs(f,!1),ga=h(f),Ds=u(f,"P",{"data-svelte-h":!0}),w(Ds)!=="svelte-1606nhd"&&(Ds.textContent=xa),ka=h(f),Vs=fs(f,!1),da=h(f),C=u(f,"P",{"data-svelte-h":!0}),w(C)!=="svelte-1xmaq9b"&&(C.textContent=N),Ba=h(f),va=fs(f,!1),Pa=h(f),ha=u(f,"P",{"data-svelte-h":!0}),w(ha)!=="svelte-tfk5pf"&&(ha.textContent=$a),Va=h(f),Ta=fs(f,!1),Ra=h(f),wa=u(f,"P",{"data-svelte-h":!0}),w(wa)!=="svelte-o38fi"&&(wa.textContent=La),Na=h(f),Ma=fs(f,!1),Fa=h(f),_a=u(f,"P",{"data-svelte-h":!0}),w(_a)!=="svelte-e7j47u"&&(_a.textContent=Sa),qa=h(f),Aa=fs(f,!1),Ya=h(f),ya=u(f,"P",{"data-svelte-h":!0}),w(ya)!=="svelte-13crbcb"&&(ya.textContent=Qa),y=h(f),O=fs(f,!1),Ka=pa(),this.h()},h(){k.a=H,K.a=hs,Y.a=as,$.a=vs,W.a=ga,Vs.a=da,va.a=Pa,Ta.a=Ra,Ma.a=Fa,Aa.a=Ya,O.a=Ka},m(f,R){t(f,s,R),t(f,p,R),t(f,e,R),t(f,l,R),t(f,c,R),t(f,v,R),t(f,b,R),t(f,z,R),t(f,L,R),t(f,x,R),k.m(j,f,R),t(f,H,R),t(f,E,R),t(f,S,R),t(f,U,R),t(f,is,R),t(f,V,R),t(f,ws,R),K.m(os,f,R),t(f,hs,R),t(f,ss,R),t(f,F,R),Y.m(Q,f,R),t(f,as,R),t(f,X,R),t(f,gs,R),$.m(Z,f,R),t(f,vs,R),t(f,es,R),t(f,Es,R),t(f,ls,R),t(f,Ms,R),t(f,ps,R),t(f,Ss,R),t(f,zs,R),t(f,G,R),t(f,Cs,R),t(f,Hs,R),t(f,Ls,R),t(f,As,R),t(f,js,R),t(f,Is,R),t(f,Ps,R),t(f,Os,R),t(f,xs,R),t(f,Rs,R),t(f,ds,R),t(f,Fs,R),t(f,ks,R),t(f,Ws,R),t(f,ms,R),t(f,Gs,R),t(f,P,R),t(f,T,R),W.m(oa,f,R),t(f,ga,R),t(f,Ds,R),t(f,ka,R),Vs.m(ba,f,R),t(f,da,R),t(f,C,R),t(f,Ba,R),va.m(Xa,f,R),t(f,Pa,R),t(f,ha,R),t(f,Va,R),Ta.m(Ha,f,R),t(f,Ra,R),t(f,wa,R),t(f,Na,R),Ma.m(Oa,f,R),t(f,Fa,R),t(f,_a,R),t(f,qa,R),Aa.m(Da,f,R),t(f,Ya,R),t(f,ya,R),t(f,y,R),O.m(st,f,R),t(f,Ka,R)},p:ua,d(f){f&&(a(s),a(p),a(e),a(l),a(c),a(v),a(b),a(z),a(L),a(x),k.d(),a(H),a(E),a(S),a(U),a(is),a(V),a(ws),K.d(),a(hs),a(ss),a(F),Y.d(),a(as),a(X),a(gs),$.d(),a(vs),a(es),a(Es),a(ls),a(Ms),a(ps),a(Ss),a(zs),a(G),a(Cs),a(Hs),a(Ls),a(As),a(js),a(Is),a(Ps),a(Os),a(xs),a(Rs),a(ds),a(Fs),a(ks),a(Ws),a(ms),a(Gs),a(P),a(T),W.d(),a(ga),a(Ds),a(ka),Vs.d(),a(da),a(C),a(Ba),va.d(),a(Pa),a(ha),a(Va),Ta.d(),a(Ra),a(wa),a(Na),Ma.d(),a(Fa),a(_a),a(qa),Aa.d(),a(Ya),a(ya),a(y),a(Ka),O.d())}}}function le(r){let s,i;const p=[r[0],rt];let e={$$slots:{default:[pe]},$$scope:{ctx:r}};for(let n=0;n<p.length;n+=1)e=Us(e,p[n]);return s=new Ga({props:e}),{c(){Zs(s.$$.fragment)},l(n){aa(s.$$.fragment,n)},m(n,l){Js(s,n,l),i=!0},p(n,[l]){const c=l&1?Wa(p,[l&1&&ia(n[0]),l&0&&ia(rt)]):{};l&2&&(c.$$scope={dirty:l,ctx:n}),s.$set(c)},i(n){i||(ns(s.$$.fragment,n),i=!0)},o(n){cs(s.$$.fragment,n),i=!1},d(n){Ks(s,n)}}}const rt={title:"Projective Space",excerpt:"How perspective projective works in computer graphics",author:{nickname:"boraini",name:"Mert Bora İnevi",social:{linkedin:"https://linkedin.com/in/boraini",github:"https://github.com/boraini",deviantart:"https://deviantart.com/boraini",twitter:"https://twitter.com/BorainiOfficial",instagram:"https://instagram.com/borainevi",tumblr:"https://tumblr.com/boraini",scratch:"https://scratch.mit.edu/users/boraini",abmdevandgames:"https://abmdevandgames.blogspot.com"},page:"/blog/authors/boraini/"},date:"2023-01-09",thumbnail:"./_projective-space/frustum.svg",assetPath:"computer-graphics"};function ie(r,s,i){return r.$$set=p=>{i(0,s=Us(Us({},s),la(p)))},s=la(s),[s]}class ce extends ra{constructor(s){super(),ma(this,s,ie,le,ca,{})}}const re=Object.freeze(Object.defineProperty({__proto__:null,default:ce,metadata:rt},Symbol.toStringTag,{value:"Module"}));function me(r){let s,i,p,e,n,l,c,_="Bilinear",v,b,m,z,L="Nearest Neighbour",A,x,k="Note: CanvasRenderingContext2D is assumed to use bilinear mapping for image smoothing.",j,H;return{c(){s=g("div"),i=g("canvas"),p=o(),e=g("form"),n=g("input"),l=o(),c=g("label"),c.textContent=_,v=o(),b=g("input"),m=o(),z=g("label"),z.textContent=L,A=o(),x=g("p"),x.textContent=k,this.h()},l(E){s=u(E,"DIV",{class:!0});var I=J(s);i=u(I,"CANVAS",{class:!0,id:!0,width:!0,height:!0}),J(i).forEach(a),p=h(I),e=u(I,"FORM",{});var S=J(e);n=u(S,"INPUT",{id:!0,name:!0,type:!0,selected:!0}),l=h(S),c=u(S,"LABEL",{for:!0,"data-svelte-h":!0}),w(c)!=="svelte-186oghz"&&(c.textContent=_),v=h(S),b=u(S,"INPUT",{id:!0,name:!0,type:!0}),m=h(S),z=u(S,"LABEL",{for:!0,"data-svelte-h":!0}),w(z)!=="svelte-aa75q2"&&(z.textContent=L),S.forEach(a),A=h(I),x=u(I,"P",{"data-svelte-h":!0}),w(x)!=="svelte-1cpg2tv"&&(x.textContent=k),I.forEach(a),this.h()},h(){d(i,"class","canvas svelte-1jhl62f"),d(i,"id","demo-canvas"),d(i,"width","800"),d(i,"height","400"),d(n,"id","linear-interpolation-mode-bilinear"),d(n,"name","image-interpolation-mode"),d(n,"type","radio"),n.value="true",d(n,"selected",!0),d(c,"for","linear-interpolation-mode-bilinear"),d(b,"id","linear-interpolation-mode-nearest-neighbour"),d(b,"name","image-interpolation-mode"),d(b,"type","radio"),b.value="false",d(z,"for","linear-interpolation-mode-nearest-neighbour"),d(s,"class","applet svelte-1jhl62f")},m(E,I){t(E,s,I),D(s,i),r[3](i),D(s,p),D(s,e),D(e,n),D(e,l),D(e,c),D(e,v),D(e,b),D(e,m),D(e,z),r[4](e),D(s,A),D(s,x),j||(H=[Za(n,"input",r[2]),Za(b,"input",r[2])],j=!0)},p:ua,i:ua,o:ua,d(E){E&&a(s),r[3](null),r[4](null),j=!1,Ut(H)}}}const fa=10,za=400;function tt(r){const s=1/(r[0][0]*r[1][1]-r[0][1]*r[1][0]);return[[s*r[1][1],-s*r[0][1]],[-s*r[1][0],s*r[0][0]]]}function oe(r,s,i){let{canvas:p,settingsForm:e}=s,n,l;Rt(()=>{n=p.getContext("2d"),l=new Image(3500,3500),l.src=Qt,E(),p.addEventListener("pointerdown",bs),p.addEventListener("pointerup",K),p.addEventListener("pointermove",ws),p.addEventListener("pointercancel",K),l.addEventListener("load",M=>H(c,_))});let c={scene:{p0:[0,0],p1:[.5,1],p2:[1,0]},texture:{p0:[0,0],p1:[0,1],p2:[1,0]}},_=[0,0,0,0];const v={width:za,height:za,margins:fa},b={imageInterpolationMode:!0},m={add(M,F){return[M[0]+F[0],M[1]+F[1]]},sub(M,F){return[M[0]-F[0],M[1]-F[1]]},scale(M,F){return[M*F[0],M*F[1]]},dot(M,F){return M[0]*F[0]+M[1]*F[1]},transpose([M,F]){return[[M[0],F[0]],[M[1],F[1]]]},transform(M,F){return m.add(m.scale(F[0],M[0]),m.scale(F[1],M[1]))}};function z(M,F){return[m.transform(M,F[0]),m.transform(M,F[1])]}function L(M){const F=M.scene.p0,Y=m.sub(M.scene.p2,M.scene.p0),Q=m.sub(M.scene.p1,M.scene.p0),as=m.scale(-1,M.texture.p0),X=m.sub(M.texture.p2,M.texture.p0),us=m.sub(M.texture.p1,M.texture.p0),gs=[Y,Q],$=tt([X,us]),Z=z(gs,$),vs=m.transform(Z,as);n.transform(...Z[0],...Z[1],...m.add(vs,F))}function A(M){const F=c.scene.p0,Y=m.sub(c.scene.p2,c.scene.p0),Q=m.sub(c.scene.p1,c.scene.p0);return m.transform(tt([Y,Q]),m.sub([M[0],M[1]],F))}function x(M){const F=c.texture.p0,Y=m.sub(c.texture.p2,c.texture.p0),Q=m.sub(c.texture.p1,c.texture.p0);return m.transform(tt([Y,Q]),m.sub([M[0],M[1]],F))}function k(M){const F=c.scene.p0,Y=m.sub(c.scene.p2,c.scene.p0),Q=m.sub(c.scene.p1,c.scene.p0),as=M;return{start:F,iScaled:m.add(F,m.scale(as[0],Y)),jScaled:m.add(F,m.scale(as[1],Q)),i:m.add(F,m.scale(1,Y)),j:m.add(F,m.scale(1,Q))}}function j(M){const F=c.texture.p0,Y=m.sub(c.texture.p2,c.texture.p0),Q=m.sub(c.texture.p1,c.texture.p0),as=M;return{start:F,iScaled:m.add(F,m.scale(as[0],Y)),jScaled:m.add(F,m.scale(as[1],Q)),i:m.add(F,m.scale(1,Y)),j:m.add(F,m.scale(1,Q))}}function H(M,F){const Y=[x,A][F[3]](F);n.resetTransform(),n.clearRect(0,0,2*za,za),n.imageSmoothingEnabled=!1,n.setTransform(za-2*fa,0,0,za-2*fa,fa,fa),n.fillRect(0,0,1,1),n.drawImage(l,0,0,1,1),n.beginPath(),n.moveTo(...M.texture.p0),n.lineTo(...M.texture.p1),n.lineTo(...M.texture.p2),n.closePath(),n.strokeStyle="white",n.lineWidth=1/100,n.stroke();const Q=j(Y);n.lineWidth=2/100,n.beginPath(),n.moveTo(...Q.start),n.lineTo(...Q.iScaled),n.strokeStyle="aqua",n.stroke(),n.closePath(),n.beginPath(),n.moveTo(...Q.start),n.lineTo(...Q.jScaled),n.strokeStyle="red",n.stroke(),n.closePath(),n.imageSmoothingEnabled=b.imageInterpolationMode,n.setTransform(za-2*fa,0,0,za-2*fa,fa+za,fa),n.save(),n.beginPath(),n.moveTo(...M.scene.p0),n.lineTo(...M.scene.p1),n.lineTo(...M.scene.p2),n.closePath(),n.clip(),L(M),n.drawImage(l,0,0,1,1),n.restore();const as=k(Y);n.lineWidth=2/100,n.beginPath(),n.moveTo(...as.start),n.lineTo(...as.iScaled),n.strokeStyle="aqua",n.stroke(),n.closePath(),n.beginPath(),n.moveTo(...as.start),n.lineTo(...as.jScaled),n.strokeStyle="red",n.stroke(),n.closePath(),n.setTransform(za-2*fa,0,0,za-2*fa,fa,fa)}function E(){I=p.getBoundingClientRect()}var I;const S=[[Object.values(c.texture),Object.values(c.scene)]];let U;function ts(M,F){E();const Y=2*v.width*(M-I.left)/I.width,Q=1*v.width*(F-I.top)/I.height,as=Math.floor(Y/v.width),X=Math.floor(Q/v.height),us=(Y-as*v.width-v.margins)/(v.width-2*v.margins),gs=(Q-X*v.height-v.margins)/(v.height-2*v.margins);return[us,gs,X,as]}function is(M,F){_=ts(M,F)}function V(M,F){const[Y,Q,as,X]=ts(M,F);let us=1/0,gs;for(let $ of S[as][X]){const Z=Math.hypot($[0]-Y,$[1]-Q);Z<us&&(us=Z,gs=$)}return gs[0]=Y,gs[1]=Q,gs}function bs(M){U||(U=M.pointerId,V(M.clientX,M.clientY))}function ws(M){is(M.clientX,M.clientY),M.pointerId==U&&V(M.clientX,M.clientY),H(c,_)}function K(M){M.pointerId==U&&(U=void 0)}function os(M){const F=new FormData(e);b.imageInterpolationMode=F.get("image-interpolation-mode")=="true",H(c,_)}function hs(M){nt[M?"unshift":"push"](()=>{p=M,i(0,p)})}function ss(M){nt[M?"unshift":"push"](()=>{e=M,i(1,e)})}return r.$$set=M=>{"canvas"in M&&i(0,p=M.canvas),"settingsForm"in M&&i(1,e=M.settingsForm)},[p,e,os,hs,ss]}class he extends ra{constructor(s){super(),ma(this,s,oe,me,ca,{canvas:0,settingsForm:1})}}function ue(r){let s,i="Textures are what make 3D computer graphics beautiful. They allow us to display detailed objects using only a few polygons. This article will focus on how we map a texture image on top of our 3D object, or its individual faces in the case of a mesh.",p,e,n="UV mapping onto triangular meshes using an UV map",l,c,_="To tell the computer which part of the texture to put on a triangle in the scene, we can use UV mapping. UV mapping is a linear mapping between the local coordinates of the triangle in the scene and a triangle in the texture space. Given a point on the scene triangle, we aim to get the corresponding point in the texture space. This point need not be aligned to any texel.",v,b,m="In OpenGL, this is done by the library along with perspective correction when we specify texture coordinates for the vertices then pass them through in the vertex shader. Then we can access the coordinate in the fragment shader.",z,L,A="For every value u, v > 0; u + v > 1, the points in the texture space triangle and the scene triangle",x,k,j="p0 + u(p1 - p0) + v(p2 - p0)",H,E,I="are mapped to each other.",S,U,ts="We usually need to map a point in the scene triangle to the texture space, so we can derive an affine transformation matrix that does this for us.",is,V,bs="First we get the u and v coordinates. If we call p1 - p0 = i and p2 - p0 = j, the point on the triangle p, and the final coordinates c:",ws,K,os=`<span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.6em;vertical-align:-1.55em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.875em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='3.600em' viewBox='0 0 875 3600'><path d='M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,84c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-92c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.04398em;">z</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0572em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0572em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0572em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.04398em;">z</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.875em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='3.600em' viewBox='0 0 875 3600'><path d='M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,9
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-144c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">u</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3.6em;vertical-align:-1.55em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.875em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='3.600em' viewBox='0 0 875 3600'><path d='M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,84c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-92c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.04398em;">z</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.875em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='3.600em' viewBox='0 0 875 3600'><path d='M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,9
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-144c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span></span></span></span></span>`,hs,ss,M="A similar equation goes for the texture space but this time in 2D. We will call p1 - p0 = u and p2 - p0 = v:",F,Y,Q='<span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">u</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span></span></span></span></span>',as,X,us="We still have to invert the matrix in the former equation. We can count on the fact that p is indeed coplanar with the triangle so the least squares method will yield correct results.",gs,$,Z=`<span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">u</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3.804em;vertical-align:-1.55em;"></span><span class="minner"><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.875em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='3.600em' viewBox='0 0 875 3600'><path d='M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,84c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-92c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:4.05em;"></span><span class="mord"><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0572em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0572em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.04398em;">z</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0572em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.04398em;">z</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.875em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='3.600em' viewBox='0 0 875 3600'><path d='M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,84c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-92c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.04398em;">z</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0572em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0572em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0572em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.04398em;">z</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.875em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='3.600em' viewBox='0 0 875 3600'><path d='M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,9
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-144c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.875em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='3.600em' viewBox='0 0 875 3600'><path d='M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,9
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-144c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:2.254em;"><span style="top:-4.5029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0572em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0572em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.04398em;">z</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0572em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.04398em;">z</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.875em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='3.600em' viewBox='0 0 875 3600'><path d='M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,84c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-92c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.04398em;">z</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.875em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='3.600em' viewBox='0 0 875 3600'><path d='M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,9
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-144c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span></span></span></span></span>`,vs,es,Ts="To get rid of the 2x3 matrix, it can be represented as an 3x3 matrix with the last row all zeroes, and then the resulting zero in the final 3D vector can be dropped.",Es,ls,rs="Here is an applet that demonstrates how this UV mapping behaves. You can drag the corners of both triangles and follow the red and aqua markers to see which points are mapped to each other (if you complete the parallelogram).",Ms,ps,_s,Ss,zs="If you haven’t noticed, this mapping won’t be correct under perspective if used after the triangles are projected. You need to resort to other mapping calculation if you need perspective. However, the 2D version can still be used if you need orthographic projection such as in 2D animation.",B,G,Cs="To get perspectively correctly mapped textures, we need to use barycentric coordinates.",Bs,Hs,Ls,qs=`<code class="language-undefined">// p, p0, p1, p2 are given as homogenous coordinates as (x, y, z, 1)
/* the projection matrix is
f/z 0   0   0
0   f/z 0   0
0   0   0   0
0   0   1   0
This is not the same as the OpenGL projection matrix but works for our use case.
*/

def barycentric(p, p0, p1, p2) &#123;
    // triangle areas using edge edge or edge point-vertex cross products
    return  [
        ||(p2 - p1)x(p - p1)||,
        ||(p - p0)x(p2 - p0)||,
        ||(p1 - p0)x(p - p0)||,
    ] / ||(p1 - p0)x(p2 - p0)||
&#125;

p, p0, p1, p2 = project_points(p_3D, p0_3D, p1_3D, p2_3D)

b_ortho = barycentric(p, p0, p1, p2)

// deeper points get less weight
b_perspective_scaled = [b_ortho[0] / p0.w, b_ortho[1] / p1.w, b_ortho[2] / p2.w]

// not vector normalization
b_perspective = b_perspective_scaled / sum_of_components(b_perspective_scaled)</code>`,As,js,$s='Unfortunately, you can’t do this in a hardware-accelerated way using JS CanvasRenderingContext2D, therefore I didn’t want to make an applet for it. To get perspective-correct UV mapping, the perspective-correct barycentric coordinates are calculated on the scene triangle. Then, they are evaluated in a linear fashion to get to the texture coordinate inside the texture triangle. Getting back to a Cartesian coordinate from a barycentric coordinate in a linear fashion is just p = b0 p0 + b1 p1 + b2 p2. I really can’t verify the algorithm I’ve found from a reliable source, though. The pseudocode for the perspective-based barycentric coordinates is largely based on this: <a href="https://stackoverflow.com/a/24460895" rel="nofollow">https://stackoverflow.com/a/24460895</a>',Is,Ps,Ys="Mapping to texels from some random coordinate",Os,xs,Xs="The above method of mapping textures result in real numbers but the texels are not continuous like that. If we get texture coodinates between the centers of pixels (oversampling if many), we need to be able to average some color and return it to prevent our program from crashing. In this article I will explain two types of interpolation for this, bilinear and nearest neighbour.",Rs,ds,Qs="You should know how linear interpolation is done already.",Fs,ks,ta='<span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">p</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8095em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">t</span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span>',Ws,ms,Ns="Bilinear interpolation on a quadrilateral is just first linearly interpolating over opposing sides, then linearly interpolating between the resulting points.",Gs,P,q='<span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:6em;vertical-align:-2.75em;"></span><span class="mord">​</span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.25em;"><span style="top:-5.25em;"><span class="pstrut" style="height:5.25em;"></span><span class="mord"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.25em;"><span style="top:-5.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span><span class="mord mtight">0</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.91em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"></span></span><span style="top:-0.91em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.75em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.25em;"><span style="top:-5.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">u</span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">u</span><span class="mclose">)</span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.91em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">u</span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">u</span><span class="mclose">)</span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-0.91em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">u</span><span class="mclose">)</span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span><span class="mord mtight">0</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.75em;"><span></span></span></span></span></span></span></span><span class="mord">​</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.75em;"><span></span></span></span></span></span></span></span></span></span></span></span>',T,W,oa="Where do we get u and v, though? After scaling the UV coordinate to the pixel dimensions of the texture, we choose the initial texel coordinate c0 as the floor of the coordinate. Then u and v become the fractional parts of the UV coordinate components. Also",ga,Ds,xa="c1 = c0 + [1, 0], c2 = c0 + [1, 1], c3 = c0 + [0, 1].",ka,Vs,ba="Then we get p0, p1, p2, p3 by reading the texture colour values at c0, c1, c2, c3.",da,C,N="For bilinear mapping, the resulting color will be the bilinear mapping between p0, p1, p2, p3.",Ba,va,Xa="For nearest neighbour mapping, the resulting color is the colour at which of c0, c1, c2, c3 is the closest to the texture coordinate i. e. the colour at the nearest neighbour.",Pa,ha,$a,Va=`<code class="language-js"><span class="token keyword">return</span> <span class="token punctuation">&#123;</span>
    <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">:</span> c0<span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">:</span> c1<span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">:</span> c2<span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">:</span> c3<span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">[</span><span class="token function">round</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">round</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">]</span></code>`,Ta,Ha,Ra="Mapping textures at a distance - MipMapping",wa,La,Na="The mapping we see above will look weird if the object we are viewing is at a distance and there is a lot of distance between sampled points (undersampling) in texture space. We would like to implement on a smaller texture in this case so the distance is less.",Ma,Oa,Fa="The way we produce these smaller textures is by scaling down the image by 2 at each step, using a 2x2 box filter to get the color of each pixel in the next texture. We repeat this until arriving at a 1x1 texture. Then we use the mipmap level that is closest to the pixel size of the triangle on the screen. Actually, we could use the two mipmaps that are around the pixel size, and average between the points that we have found. That method is called trilinear filtering.",_a,Sa,qa="The memory cost of mipmapping is derived as follows:",Aa,Da,Ya='<span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:10.0618em;vertical-align:-4.7809em;"></span><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:5.2809em;"><span style="top:-7.2809em;"><span class="pstrut" style="height:7.2809em;"></span><span class="mord"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:5.2809em;"><span style="top:-7.2809em;"><span class="pstrut" style="height:3.9721em;"></span><span class="mord"><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.9721em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3971em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mop mtight"><span class="mop mtight"><span class="mtight">l</span><span class="mtight">o</span><span class="mtight" style="margin-right:0.01389em;">g</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span style="top:-2.2341em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2659em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord text mtight"><span class="mord textup mtight">size</span></span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8747em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathnormal mtight">i</span></span></span></span></span></span></span></span></span></span></span><span style="top:-4.1543em;"><span class="pstrut" style="height:3.9721em;"></span><span class="mord"></span></span><span style="top:-2.3283em;"><span class="pstrut" style="height:3.9721em;"></span><span class="mord"></span></span><span style="top:-0.1772em;"><span class="pstrut" style="height:3.9721em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4911em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="mord mathnormal">i</span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord text"><span class="mord textup">size</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8719em;"><span style="top:-3.1208em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:4.7809em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:5.2809em;"><span style="top:-7.2809em;"><span class="pstrut" style="height:3.9721em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.565em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">4</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord">4</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.888em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mop mtight"><span class="mop mtight"><span class="mtight">l</span><span class="mtight">o</span><span class="mtight" style="margin-right:0.01389em;">g</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span style="top:-2.2341em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2659em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord text mtight"><span class="mord textup mtight">size</span></span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7693em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-4.1543em;"><span class="pstrut" style="height:3.9721em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5489em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord textup">size</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8719em;"><span style="top:-3.1208em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-0.1772em;"><span class="pstrut" style="height:3.9721em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mord text"><span class="mord textup">size</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8719em;"><span style="top:-3.1208em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:4.7809em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:4.7809em;"><span></span></span></span></span></span></span></span><span class="tag"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:5.2809em;"><span style="top:-7.2809em;"><span class="pstrut" style="height:7.2809em;"></span><span class="eqn-num"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:4.7809em;"><span></span></span></span></span></span></span></span></span>',ya,Qa;return ps=new he({}),{c(){s=g("p"),s.textContent=i,p=o(),e=g("h2"),e.textContent=n,l=o(),c=g("p"),c.textContent=_,v=o(),b=g("p"),b.textContent=m,z=o(),L=g("p"),L.textContent=A,x=o(),k=g("p"),k.textContent=j,H=o(),E=g("p"),E.textContent=I,S=o(),U=g("p"),U.textContent=ts,is=o(),V=g("p"),V.textContent=bs,ws=o(),K=new ys(!1),hs=o(),ss=g("p"),ss.textContent=M,F=o(),Y=new ys(!1),as=o(),X=g("p"),X.textContent=us,gs=o(),$=new ys(!1),vs=o(),es=g("p"),es.textContent=Ts,Es=o(),ls=g("p"),ls.textContent=rs,Ms=o(),Zs(ps.$$.fragment),_s=o(),Ss=g("p"),Ss.textContent=zs,B=o(),G=g("p"),G.textContent=Cs,Bs=o(),Hs=g("pre"),Ls=new ys(!1),As=o(),js=g("p"),js.innerHTML=$s,Is=o(),Ps=g("h2"),Ps.textContent=Ys,Os=o(),xs=g("p"),xs.textContent=Xs,Rs=o(),ds=g("p"),ds.textContent=Qs,Fs=o(),ks=new ys(!1),Ws=o(),ms=g("p"),ms.textContent=Ns,Gs=o(),P=new ys(!1),T=o(),W=g("p"),W.textContent=oa,ga=o(),Ds=g("p"),Ds.textContent=xa,ka=o(),Vs=g("p"),Vs.textContent=ba,da=o(),C=g("p"),C.textContent=N,Ba=o(),va=g("p"),va.textContent=Xa,Pa=o(),ha=g("pre"),$a=new ys(!1),Ta=o(),Ha=g("h2"),Ha.textContent=Ra,wa=o(),La=g("p"),La.textContent=Na,Ma=o(),Oa=g("p"),Oa.textContent=Fa,_a=o(),Sa=g("p"),Sa.textContent=qa,Aa=o(),Da=new ys(!1),ya=pa(),this.h()},l(y){s=u(y,"P",{"data-svelte-h":!0}),w(s)!=="svelte-1hy2mya"&&(s.textContent=i),p=h(y),e=u(y,"H2",{"data-svelte-h":!0}),w(e)!=="svelte-1qjal4p"&&(e.textContent=n),l=h(y),c=u(y,"P",{"data-svelte-h":!0}),w(c)!=="svelte-em9iww"&&(c.textContent=_),v=h(y),b=u(y,"P",{"data-svelte-h":!0}),w(b)!=="svelte-1obly7j"&&(b.textContent=m),z=h(y),L=u(y,"P",{"data-svelte-h":!0}),w(L)!=="svelte-17kzbep"&&(L.textContent=A),x=h(y),k=u(y,"P",{"data-svelte-h":!0}),w(k)!=="svelte-h32f1w"&&(k.textContent=j),H=h(y),E=u(y,"P",{"data-svelte-h":!0}),w(E)!=="svelte-1464ixp"&&(E.textContent=I),S=h(y),U=u(y,"P",{"data-svelte-h":!0}),w(U)!=="svelte-nkimu4"&&(U.textContent=ts),is=h(y),V=u(y,"P",{"data-svelte-h":!0}),w(V)!=="svelte-79479l"&&(V.textContent=bs),ws=h(y),K=fs(y,!1),hs=h(y),ss=u(y,"P",{"data-svelte-h":!0}),w(ss)!=="svelte-1qqb471"&&(ss.textContent=M),F=h(y),Y=fs(y,!1),as=h(y),X=u(y,"P",{"data-svelte-h":!0}),w(X)!=="svelte-1trmpam"&&(X.textContent=us),gs=h(y),$=fs(y,!1),vs=h(y),es=u(y,"P",{"data-svelte-h":!0}),w(es)!=="svelte-1tkh174"&&(es.textContent=Ts),Es=h(y),ls=u(y,"P",{"data-svelte-h":!0}),w(ls)!=="svelte-1q9nr8s"&&(ls.textContent=rs),Ms=h(y),aa(ps.$$.fragment,y),_s=h(y),Ss=u(y,"P",{"data-svelte-h":!0}),w(Ss)!=="svelte-1nixmf8"&&(Ss.textContent=zs),B=h(y),G=u(y,"P",{"data-svelte-h":!0}),w(G)!=="svelte-1yv6fg5"&&(G.textContent=Cs),Bs=h(y),Hs=u(y,"PRE",{class:!0});var O=J(Hs);Ls=fs(O,!1),O.forEach(a),As=h(y),js=u(y,"P",{"data-svelte-h":!0}),w(js)!=="svelte-111hiug"&&(js.innerHTML=$s),Is=h(y),Ps=u(y,"H2",{"data-svelte-h":!0}),w(Ps)!=="svelte-1ohfpj3"&&(Ps.textContent=Ys),Os=h(y),xs=u(y,"P",{"data-svelte-h":!0}),w(xs)!=="svelte-15j55mi"&&(xs.textContent=Xs),Rs=h(y),ds=u(y,"P",{"data-svelte-h":!0}),w(ds)!=="svelte-n350b4"&&(ds.textContent=Qs),Fs=h(y),ks=fs(y,!1),Ws=h(y),ms=u(y,"P",{"data-svelte-h":!0}),w(ms)!=="svelte-12qxd0m"&&(ms.textContent=Ns),Gs=h(y),P=fs(y,!1),T=h(y),W=u(y,"P",{"data-svelte-h":!0}),w(W)!=="svelte-um6g01"&&(W.textContent=oa),ga=h(y),Ds=u(y,"P",{"data-svelte-h":!0}),w(Ds)!=="svelte-qh9lho"&&(Ds.textContent=xa),ka=h(y),Vs=u(y,"P",{"data-svelte-h":!0}),w(Vs)!=="svelte-13vfub7"&&(Vs.textContent=ba),da=h(y),C=u(y,"P",{"data-svelte-h":!0}),w(C)!=="svelte-7pzqes"&&(C.textContent=N),Ba=h(y),va=u(y,"P",{"data-svelte-h":!0}),w(va)!=="svelte-isuvgm"&&(va.textContent=Xa),Pa=h(y),ha=u(y,"PRE",{class:!0});var st=J(ha);$a=fs(st,!1),st.forEach(a),Ta=h(y),Ha=u(y,"H2",{"data-svelte-h":!0}),w(Ha)!=="svelte-1jfyviq"&&(Ha.textContent=Ra),wa=h(y),La=u(y,"P",{"data-svelte-h":!0}),w(La)!=="svelte-1gz3049"&&(La.textContent=Na),Ma=h(y),Oa=u(y,"P",{"data-svelte-h":!0}),w(Oa)!=="svelte-1thoaqi"&&(Oa.textContent=Fa),_a=h(y),Sa=u(y,"P",{"data-svelte-h":!0}),w(Sa)!=="svelte-1l5iwcv"&&(Sa.textContent=qa),Aa=h(y),Da=fs(y,!1),ya=pa(),this.h()},h(){K.a=hs,Y.a=as,$.a=vs,Ls.a=null,d(Hs,"class","language-undefined"),ks.a=Ws,P.a=T,$a.a=null,d(ha,"class","language-js"),Da.a=ya},m(y,O){t(y,s,O),t(y,p,O),t(y,e,O),t(y,l,O),t(y,c,O),t(y,v,O),t(y,b,O),t(y,z,O),t(y,L,O),t(y,x,O),t(y,k,O),t(y,H,O),t(y,E,O),t(y,S,O),t(y,U,O),t(y,is,O),t(y,V,O),t(y,ws,O),K.m(os,y,O),t(y,hs,O),t(y,ss,O),t(y,F,O),Y.m(Q,y,O),t(y,as,O),t(y,X,O),t(y,gs,O),$.m(Z,y,O),t(y,vs,O),t(y,es,O),t(y,Es,O),t(y,ls,O),t(y,Ms,O),Js(ps,y,O),t(y,_s,O),t(y,Ss,O),t(y,B,O),t(y,G,O),t(y,Bs,O),t(y,Hs,O),Ls.m(qs,Hs),t(y,As,O),t(y,js,O),t(y,Is,O),t(y,Ps,O),t(y,Os,O),t(y,xs,O),t(y,Rs,O),t(y,ds,O),t(y,Fs,O),ks.m(ta,y,O),t(y,Ws,O),t(y,ms,O),t(y,Gs,O),P.m(q,y,O),t(y,T,O),t(y,W,O),t(y,ga,O),t(y,Ds,O),t(y,ka,O),t(y,Vs,O),t(y,da,O),t(y,C,O),t(y,Ba,O),t(y,va,O),t(y,Pa,O),t(y,ha,O),$a.m(Va,ha),t(y,Ta,O),t(y,Ha,O),t(y,wa,O),t(y,La,O),t(y,Ma,O),t(y,Oa,O),t(y,_a,O),t(y,Sa,O),t(y,Aa,O),Da.m(Ya,y,O),t(y,ya,O),Qa=!0},p:ua,i(y){Qa||(ns(ps.$$.fragment,y),Qa=!0)},o(y){cs(ps.$$.fragment,y),Qa=!1},d(y){y&&(a(s),a(p),a(e),a(l),a(c),a(v),a(b),a(z),a(L),a(x),a(k),a(H),a(E),a(S),a(U),a(is),a(V),a(ws),K.d(),a(hs),a(ss),a(F),Y.d(),a(as),a(X),a(gs),$.d(),a(vs),a(es),a(Es),a(ls),a(Ms),a(_s),a(Ss),a(B),a(G),a(Bs),a(Hs),a(As),a(js),a(Is),a(Ps),a(Os),a(xs),a(Rs),a(ds),a(Fs),ks.d(),a(Ws),a(ms),a(Gs),P.d(),a(T),a(W),a(ga),a(Ds),a(ka),a(Vs),a(da),a(C),a(Ba),a(va),a(Pa),a(ha),a(Ta),a(Ha),a(wa),a(La),a(Ma),a(Oa),a(_a),a(Sa),a(Aa),a(ya),Da.d()),Ks(ps,y)}}}function ge(r){let s,i;const p=[r[0],mt];let e={$$slots:{default:[ue]},$$scope:{ctx:r}};for(let n=0;n<p.length;n+=1)e=Us(e,p[n]);return s=new Ga({props:e}),{c(){Zs(s.$$.fragment)},l(n){aa(s.$$.fragment,n)},m(n,l){Js(s,n,l),i=!0},p(n,[l]){const c=l&1?Wa(p,[l&1&&ia(n[0]),l&0&&ia(mt)]):{};l&2&&(c.$$scope={dirty:l,ctx:n}),s.$set(c)},i(n){i||(ns(s.$$.fragment,n),i=!0)},o(n){cs(s.$$.fragment,n),i=!1},d(n){Ks(s,n)}}}const mt={title:"Texture Mapping",excerpt:"All to know about how to map textures onto a 3D surface",author:{nickname:"boraini",name:"Mert Bora İnevi",social:{linkedin:"https://linkedin.com/in/boraini",github:"https://github.com/boraini",deviantart:"https://deviantart.com/boraini",twitter:"https://twitter.com/BorainiOfficial",instagram:"https://instagram.com/borainevi",tumblr:"https://tumblr.com/boraini",scratch:"https://scratch.mit.edu/users/boraini",abmdevandgames:"https://abmdevandgames.blogspot.com"},page:"/blog/authors/boraini/"},date:"2022-10-01",thumbnail:"./_texture-mapping/snowboarder_original.png",assetPath:"computer-graphics"};function de(r,s,i){return r.$$set=p=>{i(0,s=Us(Us({},s),la(p)))},s=la(s),[s]}class ve extends ra{constructor(s){super(),ma(this,s,de,ge,ca,{})}}const ye=Object.freeze(Object.defineProperty({__proto__:null,default:ve,metadata:mt},Symbol.toStringTag,{value:"Module"})),fe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAU0AAAEDCAIAAAA+wMGPAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAhhSURBVHhe7dPbltsgEETR/P9PJyuT4zUQZI+FdYHi7LekJMZqun79lpTOnkv57LmUz55L+ey5lM+eS/nsuZTPnkv57LmUz55L+ey5lM+eS/nsuZTPnkv57LmUz55L+ey5lM+eS/nsuZTPnkv57LmUz55L+ey5lM+eS/nsuZTPnkv57LmUz55L+ey5lM+eS/nsuZTPnkv57LmUz55L+ey5lM+eS/nsuZTPnkv57LmUz55L+ey5lM+eS/nsuZTPnkv57LmUz55L+ey5lM+eS/nsuZTPnkv57LmUz55L+ey5lM+eS/nsuZTPnkv57LmUz55L+ey5lM+ea8OvB/6tyXmR+h8Vf+B/NTNvURXK3SDWnLw/faPTT/CQJuTl6RuFfo7nNBtvTqDKP+FpTcVr01+UuPDs///5l2oWXpi2y0xm1SN4W6ujtTWyB/63QazheVVLo681shrZFp7QwLykdVHTGtkTPNQg1qi8oXXR0QLBSzzaINaQvJ5F0c4CwRt4YQtPaDBezIooZYFgD95sEGsk3spyqGONbCdebhBrGF7JWihijawLRzSINQbvYyFUsEb2Gc5qEOtu3sRCKF+B4Aic2CDWrbyGVVC7AsFxOLdBrPt4B0ugcAWCo3H6Fp7QHZx+PnpWIDgNf6ZBrMs5+nA0rEZ2Jv5Sg1jXcu7J6FaN7Hz8vQaxLuTQY9GqGtmF+MMNYl3CcceiTwWCy/HnG8Q6n7PORJMKBDfhRzSIdTIHHYgOFQjuxq9pEOs0jjgN1amRDYAf1CDWOZxvFEpTIxsGP6tBrBM43BzUpUY2GH7cFp7QoRxrCFpSIxsVv7JBrOM40xBUpEAwNn5rg1gHcaAJKEeBYAb84gaxjuA0p0ctCgRT4ac3iPUZ5zg32lAjmw2/vkGsDzjEidGDGtmc+IYGsXo5wVnRgBrZzPiSLTyh/ZzdlFj8GlkEPqlBrJ0c3JTY+gJBED6sQaw9nNp82PcCQRw+bwtP6D3OazKseYEgF9/ZINYbHNZMWPAaWTQ+tUGsnzipabDaNbIF8MENYr3kmObAUtfIVsKXN4j1hAOaALtcI1sP398g1hanMwEWuUCwKqbQIFbD0YyOFS4QrI1ZbOEJFRzK0NjcAoG+MJQGsR6cyLjY2RqZHphLg1hfHMeg2NYamWpMp0Esez4m9rRGpicYU4N4bU5hRGxogUAvMawG8cIcwXDYzQKB3sDIGsSrcofGwlYWCPQ2BreFJ9bjGg2EZSwQaD8m2CBejJs0CtawRqYuDLFBvBI3aQgsYI1MH2CUW3hiDS7T/di7GpmOwEwbxAtwn+7H0hUIdBwm2yBO50rdjHUrEOhozLdBHM2tuhOLViDQaRh0gziUi3Ub9qtGpjMx6wZxIhfrHmxWjUznY+IN4jju1g3YqRqZrsLct/BEENfraqxSjUyX4wIaxCncsKuxRwUC3YRraBBHcMkuxQYVCHQrLmMLT0zOPbsOi1Mg0Bi4lQbxzFy1i7AyNTINg4tpEE/LVbsCy1Ij02C4ngbxnNy207EmNTKNintqEM/GhTsX21Ej09i4rQbxVNy5c7EaBQLNgDtrEM/DtTsRS1Eg0MC4qpd4dB5u3lnYiAKBxsMNvY3X5uHynYJ1qJFpDNzKfrw/FZfveKxDjUy34jK6cMSc3L+DsRQ1Mt2BO+jCEfNzBQ/GghQIdC2mvx/vZ3ELj8SmFAh0CYa+H+/nchEPw8oUCHQmZt2FIxbgLh6DxSkQ6ASMuAtHLMZ1PAAbVCPTQRhrF45YmCP4FKtUI9NnmGYXjtAXx/ERdqpGpi4MsQtHqOFoPsJ+FQi0E+Pbj/f1kmPqx6IVCPQeptaFI/Qe59WJdSsQ6CWG1YUjtJ+z68He1cjUYEBdOEKfcY67sYA1Mj0wly4coeM4033YxBrZ8hhHF47QOZzvDqxkjWxhDGI/3tf5nPUOrGeBYD18fxeO0IUc+rtY0gLBMvjsLhyhm3gBb2FbCwTp+NouHKEBeBk/Y21rZIn4wi4cocF4MT9gf2tkQfiwLhyhgXlJr7DINbIIfNJ+vK9JeGFPsdE1spnxJfvxvibk5T3FdhcIJsQHdOEIzcxb3MaOFwjmwe/uwhFK4Y1uYNkLBMPj53bhCCXydv/H1tfIhsRP7MIRSudNV1j/GtlI+GVdOEIr8da/0YMa2Rj4TfvxvlblBoBC1MhuxU/pwhFanqsAmlEguAO/oAtHSAXX4i8qUiC4EH+4C0dIT7gid5acv9eFI6Q3rL4ulKZGdg7+RheOkHZaenVoT43saJy+H+9LH1h3jahRjewgHNqFI6Qj2PNvBJ/hrC4cIR1t0d2iWAWCLhzRhSOkM624ZzSsQLAHb3bhCOkqy+0cVSsQvIEXunCEdIe19o/O1cie4KEuHCHdbaFdpHw1sgbxfrwvjWSVvaSFNbIH/rcLR0hDWrfnz/7/ff9OkMa3xLLSyyNwojSV/MWloB/gIGla4UtMU/fjfSlC8kJT2bfxmhTHnltv5Vu05zwhrSF846n1F/5LWo/bL+Wz51I+ey7ls+dSPnsu5bPnUj57LuWz51I+ey7ls+dSPnsu5bPnUj57LuWz51I+ey7ls+dSPnsu5bPnUj57LuWz51I+ey7ls+dSPnsu5bPnUj57LuWz51I+ey7ls+dSPnsu5bPnUj57LuWz51I+ey7ls+dSPnsu5bPnUj57LuWz51I+ey7ls+dSPnsu5bPnUj57LuWz51I+ey7ls+dSPnsu5bPnUj57LuWz51I+ey7ls+dSPnsu5bPnUj57LuWz51I+ey7ls+dSPnsu5bPnUj57LuWz51I+ey7ls+dSPnsu5bPnUj57LuWz51I+ey7ls+dSPnsu5bPnUj57LqX7/fsPiNBaZruzp3YAAAAASUVORK5CYII=",be=Object.freeze(Object.defineProperty({__proto__:null,default:fe},Symbol.toStringTag,{value:"Module"})),we=""+new URL("../assets/thumbnail.16ffd84f.svg",import.meta.url).href,_e=Object.freeze(Object.defineProperty({__proto__:null,default:we},Symbol.toStringTag,{value:"Module"}));function xe(r){let s,i="Since I have started studying computer science, I noticed that people around me would build nice software using their acquired knowledge, and some would look after them with their jaws dropped. People would even compliment me for just doing what I enjoy, like building this website or making mediocre character drawings. This is surprising to me since it feels like I did not have any talent or anything; I was just enthusiastic about what I did and spent months and years trying to get better at it.",p,e,n="From my personal experience above, there are two factors which divide people as those who make things and those who look after them. First is how early you began doing, and the second is how enthusiastic and enduring you are while doing.",l,c,_="Beginning early is always an advantage. In Turkish we say “Erken kalkan yol alır.” It means the one who wakes up early makes progress. I owe my success to getting my hands into stuff all the way back in middle school. Of course, I had the advantage of having modern parents who provided me with some of the equipment and expertise I needed to start. However, they were never the ones who initiated me. I would dig through books, magazines, and later Reddit, get curious and try out the ideas I found in whatever situation I am in and with whatever I had in my hand. When I had a drawing idea during class, I would doodle it in the corner of the notebook immediately or when I saw a computer program printed inside a book, I would copy it into MS Word without knowing that my approach is wrong. However, only this way I would get the chance to learn from my mistakes. You can spend months or years trying to master the technique before bringing your ideas to life, but sometimes you best learn by doing, so you progress the earliest and fastest if you start by trying yourself.",v,b,m="Additionally, being determined when doing something new is also important. When you see those who do something better than you should not bother you that much, or only bother you in a productive way. We are all humans after all and all of us and those handicapped with sufficient help are free to observe and try what the better ones do differently. It should only take time at worst. During the time it takes it is important to not lose motivation if the learning curve is high. The most important causes of motivation loss are those who tell you against doing something and those who talk about how hard the thing is. To rectify those, you can try to first stop negatively talking to yourself and then get rid of the other people or change them by standing determined. A person will not be afraid of anything if they are not under self or peer pressure. Once you stay motivated during the process, great results await in the end.",z,L,A="In conclusion, we can see going for something is a multiple step process that takes time and motivation. To take advantage of time one must start early and to keep motivation one must get rid of discouraging agents. But first, one must start the moment they have the next big idea to get maximal advantage of any of that.";return{c(){s=g("p"),s.textContent=i,p=o(),e=g("p"),e.textContent=n,l=o(),c=g("p"),c.textContent=_,v=o(),b=g("p"),b.textContent=m,z=o(),L=g("p"),L.textContent=A},l(x){s=u(x,"P",{"data-svelte-h":!0}),w(s)!=="svelte-1jj9zvi"&&(s.textContent=i),p=h(x),e=u(x,"P",{"data-svelte-h":!0}),w(e)!=="svelte-hagjbn"&&(e.textContent=n),l=h(x),c=u(x,"P",{"data-svelte-h":!0}),w(c)!=="svelte-7tjpdn"&&(c.textContent=_),v=h(x),b=u(x,"P",{"data-svelte-h":!0}),w(b)!=="svelte-w2jftk"&&(b.textContent=m),z=h(x),L=u(x,"P",{"data-svelte-h":!0}),w(L)!=="svelte-k9vpar"&&(L.textContent=A)},m(x,k){t(x,s,k),t(x,p,k),t(x,e,k),t(x,l,k),t(x,c,k),t(x,v,k),t(x,b,k),t(x,z,k),t(x,L,k)},p:ua,d(x){x&&(a(s),a(p),a(e),a(l),a(c),a(v),a(b),a(z),a(L))}}}function ke(r){let s,i;const p=[r[0],ot];let e={$$slots:{default:[xe]},$$scope:{ctx:r}};for(let n=0;n<p.length;n+=1)e=Us(e,p[n]);return s=new Ga({props:e}),{c(){Zs(s.$$.fragment)},l(n){aa(s.$$.fragment,n)},m(n,l){Js(s,n,l),i=!0},p(n,[l]){const c=l&1?Wa(p,[l&1&&ia(n[0]),l&0&&ia(ot)]):{};l&2&&(c.$$scope={dirty:l,ctx:n}),s.$set(c)},i(n){i||(ns(s.$$.fragment,n),i=!0)},o(n){cs(s.$$.fragment,n),i=!1},d(n){Ks(s,n)}}}const ot={title:"Just Go For It",excerpt:"Start early, be determined.",author:{nickname:"boraini",name:"Mert Bora İnevi",social:{linkedin:"https://linkedin.com/in/boraini",github:"https://github.com/boraini",deviantart:"https://deviantart.com/boraini",twitter:"https://twitter.com/BorainiOfficial",instagram:"https://instagram.com/borainevi",tumblr:"https://tumblr.com/boraini",scratch:"https://scratch.mit.edu/users/boraini",abmdevandgames:"https://abmdevandgames.blogspot.com"},page:"/blog/authors/boraini/"},date:"2023-05-22",thumbnail:"./_personal/thumbnail.svg",assetPath:"personal"};function ze(r,s,i){return r.$$set=p=>{i(0,s=Us(Us({},s),la(p)))},s=la(s),[s]}class Ce extends ra{constructor(s){super(),ma(this,s,ze,ke,ca,{})}}const je=Object.freeze(Object.defineProperty({__proto__:null,default:Ce,metadata:ot},Symbol.toStringTag,{value:"Module"})),Pe=Object.assign({"/src/articles/authors/trilizard-sleeping.svg":Kt,"/src/articles/computer-graphics/_acceleration-data-structures/accel-thumbnail.svg":Xt,"/src/articles/computer-graphics/_acceleration-data-structures/bvh-median.svg":sn,"/src/articles/computer-graphics/_acceleration-data-structures/bvh-midpoint.svg":an,"/src/articles/computer-graphics/_local-and-world-space/character-arm.svg":tn,"/src/articles/computer-graphics/_local-and-world-space/object-hierarchy-basic.svg":nn,"/src/articles/computer-graphics/_local-and-world-space/object-hierarchy-complete.svg":en,"/src/articles/computer-graphics/_projective-space/frustum.svg":pn,"/src/articles/computer-graphics/_texture-mapping/snowboarder_original.png":ln,"/src/articles/computer-graphics/linear-and-affine-transformations.png":cn,"/src/articles/computer-graphics/triangle.png":rn,"/src/articles/personal/_personal/thumbnail.svg":mn}),Gt={};Object.entries(Pe).forEach(([r,s])=>Gt[r.replace("/src/articles/","")]=s);const Te=Object.assign({"/src/articles/authors/boraini.md":bn,"/src/articles/authors/trilizard-sleeping.svg":gn,"/src/articles/computer-graphics/_acceleration-data-structures/accel-thumbnail.svg":_n,"/src/articles/computer-graphics/_acceleration-data-structures/bvh-median.svg":xn,"/src/articles/computer-graphics/_acceleration-data-structures/bvh-midpoint.svg":kn,"/src/articles/computer-graphics/_local-and-world-space/character-arm.svg":zn,"/src/articles/computer-graphics/_local-and-world-space/object-hierarchy-basic.svg":Cn,"/src/articles/computer-graphics/_local-and-world-space/object-hierarchy-complete.svg":jn,"/src/articles/computer-graphics/_projective-space/frustum.svg":Pn,"/src/articles/computer-graphics/_texture-mapping/snowboarder_original.png":Tn,"/src/articles/computer-graphics/acceleration-data-structures.md":On,"/src/articles/computer-graphics/hidden-surface-removal.md":Yn,"/src/articles/computer-graphics/linear-and-affine-transformations.md":Jn,"/src/articles/computer-graphics/linear-and-affine-transformations.png":Xn,"/src/articles/computer-graphics/local-and-world-space.md":ee,"/src/articles/computer-graphics/projective-space.md":re,"/src/articles/computer-graphics/texture-mapping.md":ye,"/src/articles/computer-graphics/triangle.png":be,"/src/articles/personal/_personal/thumbnail.svg":_e,"/src/articles/personal/just-go-for-it.md":je}),Vt={};Object.entries(Te).forEach(([r,s])=>Vt[r.replace("/src/articles/","")]=s);async function Le({params:r}){var n;let s=r.slug;s.endsWith("/")&&(s=s.substring(0,s.length-1));const i=Vt[s+".md"],p={...i.metadata};let e="article";if(s.startsWith("authors")&&(e="author"),p.thumbnail){let l;p.thumbnail.startsWith("./")?l=Gt[i.metadata.assetPath+((n=i.metadata.assetPath)!=null&&n.endsWith("/")?"":"/")+p.thumbnail.replace("./","")]:l=i.metadata.thumbnail,p.thumbnail=l}return{component:i.default,metadata:p,pageType:e}}const Me=!0;async function Se(r){return r.data.isArticle?Le(r):r.data.index}const qe=Object.freeze(Object.defineProperty({__proto__:null,load:Se,prerender:Me},Symbol.toStringTag,{value:"Module"}));function bt(r,s,i){const p=r.slice();return p[1]=s[i],p}function wt(r){let s,i,p=Ja(r[0].authors),e=[];for(let l=0;l<p.length;l+=1)e[l]=_t(bt(r,p,l));const n=l=>cs(e[l],1,1,()=>{e[l]=null});return{c(){s=g("ul");for(let l=0;l<e.length;l+=1)e[l].c();this.h()},l(l){s=u(l,"UL",{class:!0});var c=J(s);for(let _=0;_<e.length;_+=1)e[_].l(c);c.forEach(a),this.h()},h(){d(s,"class","authors svelte-1i6p1cj")},m(l,c){t(l,s,c);for(let _=0;_<e.length;_+=1)e[_]&&e[_].m(s,null);i=!0},p(l,c){if(c&1){p=Ja(l[0].authors);let _;for(_=0;_<p.length;_+=1){const v=bt(l,p,_);e[_]?(e[_].p(v,c),ns(e[_],1)):(e[_]=_t(v),e[_].c(),ns(e[_],1),e[_].m(s,null))}for(Ia(),_=p.length;_<e.length;_+=1)n(_);Ea()}},i(l){if(!i){for(let c=0;c<p.length;c+=1)ns(e[c]);i=!0}},o(l){e=e.filter(Boolean);for(let c=0;c<e.length;c+=1)cs(e[c]);i=!1},d(l){l&&a(s),ht(e,l)}}}function _t(r){let s,i,p;return i=new ut({props:{author:r[1]}}),{c(){s=g("li"),Zs(i.$$.fragment)},l(e){s=u(e,"LI",{});var n=J(s);aa(i.$$.fragment,n),n.forEach(a)},m(e,n){t(e,s,n),Js(i,s,null),p=!0},p(e,n){const l={};n&1&&(l.author=e[1]),i.$set(l)},i(e){p||(ns(i.$$.fragment,e),p=!0)},o(e){cs(i.$$.fragment,e),p=!1},d(e){e&&a(s),Ks(i)}}}function xt(r){let s,i,p;return i=new ut({props:{author:r[0].author}}),{c(){s=g("p"),Zs(i.$$.fragment),this.h()},l(e){s=u(e,"P",{class:!0});var n=J(s);aa(i.$$.fragment,n),n.forEach(a),this.h()},h(){d(s,"class","svelte-1i6p1cj")},m(e,n){t(e,s,n),Js(i,s,null),p=!0},p(e,n){const l={};n&1&&(l.author=e[0].author),i.$set(l)},i(e){p||(ns(i.$$.fragment,e),p=!0)},o(e){cs(i.$$.fragment,e),p=!1},d(e){e&&a(s),Ks(i)}}}function Ae(r){let s,i,p,e,n,l,c,_=r[0].title+"",v,b,m,z=r[0].excerpt+"",L,A,x,k,j=r[0].authors&&wt(r),H=r[0].author&&xt(r);return{c(){s=g("div"),i=g("img"),n=o(),l=g("div"),c=g("h1"),v=Ca(_),b=o(),m=g("p"),L=Ca(z),A=o(),j&&j.c(),x=o(),H&&H.c(),this.h()},l(E){s=u(E,"DIV",{class:!0});var I=J(s);i=u(I,"IMG",{class:!0,src:!0,alt:!0}),n=h(I),l=u(I,"DIV",{class:!0});var S=J(l);c=u(S,"H1",{class:!0});var U=J(c);v=ja(U,_),U.forEach(a),b=h(S),m=u(S,"P",{class:!0});var ts=J(m);L=ja(ts,z),ts.forEach(a),S.forEach(a),A=h(I),j&&j.l(I),x=h(I),H&&H.l(I),I.forEach(a),this.h()},h(){d(i,"class","thumbnail svelte-1i6p1cj"),gt(i.src,p=r[0].thumbnail)||d(i,"src",p),d(i,"alt",e=r[0].title),d(c,"class","title svelte-1i6p1cj"),d(m,"class","description svelte-1i6p1cj"),d(l,"class","min-height-section svelte-1i6p1cj"),d(s,"class","page-card svelte-1i6p1cj")},m(E,I){t(E,s,I),D(s,i),D(s,n),D(s,l),D(l,c),D(c,v),D(l,b),D(l,m),D(m,L),D(s,A),j&&j.m(s,null),D(s,x),H&&H.m(s,null),k=!0},p(E,[I]){(!k||I&1&&!gt(i.src,p=E[0].thumbnail))&&d(i,"src",p),(!k||I&1&&e!==(e=E[0].title))&&d(i,"alt",e),(!k||I&1)&&_!==(_=E[0].title+"")&&Ua(v,_),(!k||I&1)&&z!==(z=E[0].excerpt+"")&&Ua(L,z),E[0].authors?j?(j.p(E,I),I&1&&ns(j,1)):(j=wt(E),j.c(),ns(j,1),j.m(s,x)):j&&(Ia(),cs(j,1,1,()=>{j=null}),Ea()),E[0].author?H?(H.p(E,I),I&1&&ns(H,1)):(H=xt(E),H.c(),ns(H,1),H.m(s,null)):H&&(Ia(),cs(H,1,1,()=>{H=null}),Ea())},i(E){k||(ns(j),ns(H),k=!0)},o(E){cs(j),cs(H),k=!1},d(E){E&&a(s),j&&j.d(),H&&H.d()}}}function Ie(r,s,i){let{data:p}=s;return r.$$set=e=>{"data"in e&&i(0,p=e.data)},[p]}class Zt extends ra{constructor(s){super(),ma(this,s,Ie,Ae,ca,{data:0})}}function kt(r,s,i){const p=r.slice();return p[1]=s[i],p}function zt(r,s,i){const p=r.slice();return p[1]=s[i],p}function Ct(r){let s,i;return{c(){s=g("meta"),this.h()},l(p){s=u(p,"META",{name:!0,property:!0,content:!0}),this.h()},h(){d(s,"name","image"),d(s,"property","og:image"),d(s,"content",i=r[0].index.metadata.thumbnail)},m(p,e){t(p,s,e)},p(p,e){e&1&&i!==(i=p[0].index.metadata.thumbnail)&&d(s,"content",i)},d(p){p&&a(s)}}}function jt(r){let s,i="Subblogs",p,e,n,l=Ja(Object.entries(r[0].index.subdirectories)),c=[];for(let v=0;v<l.length;v+=1)c[v]=Pt(zt(r,l,v));const _=v=>cs(c[v],1,1,()=>{c[v]=null});return{c(){s=g("h1"),s.textContent=i,p=o(),e=g("section");for(let v=0;v<c.length;v+=1)c[v].c();this.h()},l(v){s=u(v,"H1",{"data-svelte-h":!0}),w(s)!=="svelte-znqpbz"&&(s.textContent=i),p=h(v),e=u(v,"SECTION",{class:!0});var b=J(e);for(let m=0;m<c.length;m+=1)c[m].l(b);b.forEach(a),this.h()},h(){d(e,"class","index-section svelte-akx94q")},m(v,b){t(v,s,b),t(v,p,b),t(v,e,b);for(let m=0;m<c.length;m+=1)c[m]&&c[m].m(e,null);n=!0},p(v,b){if(b&1){l=Ja(Object.entries(v[0].index.subdirectories));let m;for(m=0;m<l.length;m+=1){const z=zt(v,l,m);c[m]?(c[m].p(z,b),ns(c[m],1)):(c[m]=Pt(z),c[m].c(),ns(c[m],1),c[m].m(e,null))}for(Ia(),m=l.length;m<c.length;m+=1)_(m);Ea()}},i(v){if(!n){for(let b=0;b<l.length;b+=1)ns(c[b]);n=!0}},o(v){c=c.filter(Boolean);for(let b=0;b<c.length;b+=1)cs(c[b]);n=!1},d(v){v&&(a(s),a(p),a(e)),ht(c,v)}}}function Pt(r){let s,i,p,e;return i=new Zt({props:{data:r[1][1]}}),{c(){s=g("a"),Zs(i.$$.fragment),this.h()},l(n){s=u(n,"A",{href:!0,class:!0});var l=J(s);aa(i.$$.fragment,l),l.forEach(a),this.h()},h(){d(s,"href",p=r[1][0]),d(s,"class","svelte-akx94q")},m(n,l){t(n,s,l),Js(i,s,null),e=!0},p(n,l){const c={};l&1&&(c.data=n[1][1]),i.$set(c),(!e||l&1&&p!==(p=n[1][0]))&&d(s,"href",p)},i(n){e||(ns(i.$$.fragment,n),e=!0)},o(n){cs(i.$$.fragment,n),e=!1},d(n){n&&a(s),Ks(i)}}}function Tt(r){let s,i="Pages",p,e,n,l=Ja(Object.entries(r[0].index.pages)),c=[];for(let v=0;v<l.length;v+=1)c[v]=Lt(kt(r,l,v));const _=v=>cs(c[v],1,1,()=>{c[v]=null});return{c(){s=g("h1"),s.textContent=i,p=o(),e=g("section");for(let v=0;v<c.length;v+=1)c[v].c();this.h()},l(v){s=u(v,"H1",{"data-svelte-h":!0}),w(s)!=="svelte-1p7mjoq"&&(s.textContent=i),p=h(v),e=u(v,"SECTION",{class:!0});var b=J(e);for(let m=0;m<c.length;m+=1)c[m].l(b);b.forEach(a),this.h()},h(){d(e,"class","index-section svelte-akx94q")},m(v,b){t(v,s,b),t(v,p,b),t(v,e,b);for(let m=0;m<c.length;m+=1)c[m]&&c[m].m(e,null);n=!0},p(v,b){if(b&1){l=Ja(Object.entries(v[0].index.pages));let m;for(m=0;m<l.length;m+=1){const z=kt(v,l,m);c[m]?(c[m].p(z,b),ns(c[m],1)):(c[m]=Lt(z),c[m].c(),ns(c[m],1),c[m].m(e,null))}for(Ia(),m=l.length;m<c.length;m+=1)_(m);Ea()}},i(v){if(!n){for(let b=0;b<l.length;b+=1)ns(c[b]);n=!0}},o(v){c=c.filter(Boolean);for(let b=0;b<c.length;b+=1)cs(c[b]);n=!1},d(v){v&&(a(s),a(p),a(e)),ht(c,v)}}}function Lt(r){let s,i,p,e;return i=new Zt({props:{data:r[1][1]}}),{c(){s=g("a"),Zs(i.$$.fragment),this.h()},l(n){s=u(n,"A",{href:!0,"data-sveltekit-reload":!0,class:!0});var l=J(s);aa(i.$$.fragment,l),l.forEach(a),this.h()},h(){d(s,"href",p=r[1][0]),d(s,"data-sveltekit-reload",""),d(s,"class","svelte-akx94q")},m(n,l){t(n,s,l),Js(i,s,null),e=!0},p(n,l){const c={};l&1&&(c.data=n[1][1]),i.$set(c),(!e||l&1&&p!==(p=n[1][0]))&&d(s,"href",p)},i(n){e||(ns(i.$$.fragment,n),e=!0)},o(n){cs(i.$$.fragment,n),e=!1},d(n){n&&a(s),Ks(i)}}}function Ee(r){let s,i,p,e,n,l,c,_,v=Object.keys(r[0].index.subdirectories).length!=0,b,m=Object.keys(r[0].index.pages).length!=0,z;document.title=s="boraini.com - "+r[0].index.metadata.title;let L=r[0].index.metadata.thumbnail&&Ct(r),A=v&&jt(r),x=m&&Tt(r);return{c(){i=g("meta"),e=g("meta"),L&&L.c(),l=pa(),c=o(),_=g("main"),A&&A.c(),b=o(),x&&x.c(),this.h()},l(k){const j=at("svelte-2rqstn",document.head);i=u(j,"META",{name:!0,property:!0,content:!0}),e=u(j,"META",{name:!0,property:!0,content:!0}),L&&L.l(j),l=pa(),j.forEach(a),c=h(k),_=u(k,"MAIN",{class:!0});var H=J(_);A&&A.l(H),b=h(H),x&&x.l(H),H.forEach(a),this.h()},h(){d(i,"name","title"),d(i,"property","og:title"),d(i,"content",p=`boraini.com - ${r[0].index.metadata.title}`),d(e,"name","description"),d(e,"property","og:description"),d(e,"content",n=`Pages and Subblogs in ${r[0].index.metadata.title}`),d(_,"class","index svelte-akx94q")},m(k,j){D(document.head,i),D(document.head,e),L&&L.m(document.head,null),D(document.head,l),t(k,c,j),t(k,_,j),A&&A.m(_,null),D(_,b),x&&x.m(_,null),z=!0},p(k,[j]){(!z||j&1)&&s!==(s="boraini.com - "+k[0].index.metadata.title)&&(document.title=s),(!z||j&1&&p!==(p=`boraini.com - ${k[0].index.metadata.title}`))&&d(i,"content",p),(!z||j&1&&n!==(n=`Pages and Subblogs in ${k[0].index.metadata.title}`))&&d(e,"content",n),k[0].index.metadata.thumbnail?L?L.p(k,j):(L=Ct(k),L.c(),L.m(l.parentNode,l)):L&&(L.d(1),L=null),j&1&&(v=Object.keys(k[0].index.subdirectories).length!=0),v?A?(A.p(k,j),j&1&&ns(A,1)):(A=jt(k),A.c(),ns(A,1),A.m(_,b)):A&&(Ia(),cs(A,1,1,()=>{A=null}),Ea()),j&1&&(m=Object.keys(k[0].index.pages).length!=0),m?x?(x.p(k,j),j&1&&ns(x,1)):(x=Tt(k),x.c(),ns(x,1),x.m(_,null)):x&&(Ia(),cs(x,1,1,()=>{x=null}),Ea())},i(k){z||(ns(A),ns(x),z=!0)},o(k){cs(A),cs(x),z=!1},d(k){k&&(a(c),a(_)),a(i),a(e),L&&L.d(k),a(l),A&&A.d(),x&&x.d()}}}function Be(r,s,i){let{data:p}=s;return r.$$set=e=>{"data"in e&&i(0,p=e.data)},[p]}class He extends ra{constructor(s){super(),ma(this,s,Be,Ee,ca,{data:0})}}function Mt(r){let s,i,p=r[0].pageType==="article"&&St(r),e=r[0].pageType==="author"&&It(r);return{c(){p&&p.c(),s=o(),e&&e.c(),i=pa()},l(n){p&&p.l(n),s=h(n),e&&e.l(n),i=pa()},m(n,l){p&&p.m(n,l),t(n,s,l),e&&e.m(n,l),t(n,i,l)},p(n,l){n[0].pageType==="article"?p?p.p(n,l):(p=St(n),p.c(),p.m(s.parentNode,s)):p&&(p.d(1),p=null),n[0].pageType==="author"?e?e.p(n,l):(e=It(n),e.c(),e.m(i.parentNode,i)):e&&(e.d(1),e=null)},d(n){n&&(a(s),a(i)),p&&p.d(n),e&&e.d(n)}}}function St(r){let s,i,p,e,n,l,c,_,v,b,m,z,L=r[0].metadata.thumbnail&&At(r);return{c(){s=g("meta"),p=o(),e=g("meta"),l=o(),c=g("meta"),_=o(),v=g("meta"),m=o(),L&&L.c(),z=pa(),this.h()},l(A){s=u(A,"META",{name:!0,property:!0,content:!0}),p=h(A),e=u(A,"META",{name:!0,property:!0,content:!0}),l=h(A),c=u(A,"META",{property:!0,content:!0}),_=h(A),v=u(A,"META",{property:!0,content:!0}),m=h(A),L&&L.l(A),z=pa(),this.h()},h(){d(s,"name","title"),d(s,"property","og:title"),d(s,"content",i=r[0].metadata.title),d(e,"name","description"),d(e,"property","og:description"),d(e,"content",n=r[0].metadata.excerpt),d(c,"property","og:type"),d(c,"content","article"),d(v,"property","article:author"),d(v,"content",b=r[0].metadata.author.page)},m(A,x){t(A,s,x),t(A,p,x),t(A,e,x),t(A,l,x),t(A,c,x),t(A,_,x),t(A,v,x),t(A,m,x),L&&L.m(A,x),t(A,z,x)},p(A,x){x&1&&i!==(i=A[0].metadata.title)&&d(s,"content",i),x&1&&n!==(n=A[0].metadata.excerpt)&&d(e,"content",n),x&1&&b!==(b=A[0].metadata.author.page)&&d(v,"content",b),A[0].metadata.thumbnail?L?L.p(A,x):(L=At(A),L.c(),L.m(z.parentNode,z)):L&&(L.d(1),L=null)},d(A){A&&(a(s),a(p),a(e),a(l),a(c),a(_),a(v),a(m),a(z)),L&&L.d(A)}}}function At(r){let s,i,p,e,n;return{c(){s=g("meta"),p=o(),e=g("meta"),this.h()},l(l){s=u(l,"META",{property:!0,content:!0}),p=h(l),e=u(l,"META",{property:!0,content:!0}),this.h()},h(){d(s,"property","og:image"),d(s,"content",i=r[0].metadata.thumbnail),d(e,"property","og:image:alt"),d(e,"content",n=r[0].metadata.title)},m(l,c){t(l,s,c),t(l,p,c),t(l,e,c)},p(l,c){c&1&&i!==(i=l[0].metadata.thumbnail)&&d(s,"content",i),c&1&&n!==(n=l[0].metadata.title)&&d(e,"content",n)},d(l){l&&(a(s),a(p),a(e))}}}function It(r){let s,i,p,e,n,l,c,_,v,b;return{c(){s=g("meta"),p=o(),e=g("meta"),l=o(),c=g("meta"),_=o(),v=g("meta"),this.h()},l(m){s=u(m,"META",{name:!0,property:!0,content:!0}),p=h(m),e=u(m,"META",{name:!0,property:!0,content:!0}),l=h(m),c=u(m,"META",{property:!0,content:!0}),_=h(m),v=u(m,"META",{property:!0,content:!0}),this.h()},h(){d(s,"name","title"),d(s,"property","og:title"),d(s,"content",i=`${r[0].metadata.name}'s Profile`),d(e,"name","description"),d(e,"property","og:description"),d(e,"content",n=`About ${r[0].metadata.name}`),d(c,"property","og:type"),d(c,"content","profile"),d(v,"property","profile:username"),d(v,"content",b=r[0].metadata.name)},m(m,z){t(m,s,z),t(m,p,z),t(m,e,z),t(m,l,z),t(m,c,z),t(m,_,z),t(m,v,z)},p(m,z){z&1&&i!==(i=`${m[0].metadata.name}'s Profile`)&&d(s,"content",i),z&1&&n!==(n=`About ${m[0].metadata.name}`)&&d(e,"content",n),z&1&&b!==(b=m[0].metadata.name)&&d(v,"content",b)},d(m){m&&(a(s),a(p),a(e),a(l),a(c),a(_),a(v))}}}function Oe(r){let s,i;return s=new He({props:{data:r[0]}}),{c(){Zs(s.$$.fragment)},l(p){aa(s.$$.fragment,p)},m(p,e){Js(s,p,e),i=!0},p(p,e){const n={};e&1&&(n.data=p[0]),s.$set(n)},i(p){i||(ns(s.$$.fragment,p),i=!0)},o(p){cs(s.$$.fragment,p),i=!1},d(p){Ks(s,p)}}}function Ue(r){let s,i,p;var e=r[0].component;function n(l,c){return{props:{data:l[0].metadata}}}return e&&(s=dt(e,n(r))),{c(){s&&Zs(s.$$.fragment),i=pa()},l(l){s&&aa(s.$$.fragment,l),i=pa()},m(l,c){s&&Js(s,l,c),t(l,i,c),p=!0},p(l,c){if(c&1&&e!==(e=l[0].component)){if(s){Ia();const _=s;cs(_.$$.fragment,1,0,()=>{Ks(_,1)}),Ea()}e?(s=dt(e,n(l)),Zs(s.$$.fragment),ns(s.$$.fragment,1),Js(s,i.parentNode,i)):s=null}else if(e){const _={};c&1&&(_.data=l[0].metadata),s.$set(_)}},i(l){p||(s&&ns(s.$$.fragment,l),p=!0)},o(l){s&&cs(s.$$.fragment,l),p=!1},d(l){l&&a(i),s&&Ks(s,l)}}}function Re(r){let s,i,p,e,n,l,c=r[0].component&&Mt(r);const _=[Ue,Oe],v=[];function b(m,z){return m[0].component?0:1}return p=b(r),e=v[p]=_[p](r),{c(){c&&c.c(),s=pa(),i=o(),e.c(),n=pa()},l(m){const z=at("svelte-lltxvr",document.head);c&&c.l(z),s=pa(),z.forEach(a),i=h(m),e.l(m),n=pa()},m(m,z){c&&c.m(document.head,null),D(document.head,s),t(m,i,z),v[p].m(m,z),t(m,n,z),l=!0},p(m,[z]){m[0].component?c?c.p(m,z):(c=Mt(m),c.c(),c.m(s.parentNode,s)):c&&(c.d(1),c=null);let L=p;p=b(m),p===L?v[p].p(m,z):(Ia(),cs(v[L],1,1,()=>{v[L]=null}),Ea(),e=v[p],e?e.p(m,z):(e=v[p]=_[p](m),e.c()),ns(e,1),e.m(n.parentNode,n))},i(m){l||(ns(e),l=!0)},o(m){cs(e),l=!1},d(m){m&&(a(i),a(n)),c&&c.d(m),a(s),v[p].d(m)}}}function Fe(r,s,i){let{data:p}=s;return r.$$set=e=>{"data"in e&&i(0,p=e.data)},[p]}class De extends ra{constructor(s){super(),ma(this,s,Fe,Re,ca,{data:0})}}export{De as component,qe as universal};
